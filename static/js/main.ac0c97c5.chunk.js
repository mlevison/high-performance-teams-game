(this["webpackJsonphigh-performance-teams-game"]=this["webpackJsonphigh-performance-teams-game"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t),function(e){function r(t,n){e.__HPTG[t]=n}n.d(t,"default",(function(){return r})),e.__HPTG={}}.call(this,n(17))},18:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(3),i=n.n(c),a=n(8),o=n.n(a),s=(n(15),n(5)),u=n(1);var d=function(){return 1+Math.floor(6*Math.random())>=3};function l(){return d()}"test"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENV&&n(16).default("setStorySucceeds",(function(e){d=e}));var f=n(2);function O(e,t){var n=0;return e.forEach((function(e){n+=e[t]})),n}function m(e,t){var n=[];return e.forEach((function(e){n.push.apply(n,Object(f.a)(e[t]))})),n}function p(e){return function(t){return t>=e}}function b(){return function(e,t,n,r){return![].concat(Object(f.a)(t),Object(f.a)(n)).includes(r)}}function h(e){return function(){for(var t=0;t<e.length;t++){var n=e[t];if(!n.apply(void 0,arguments))return!1}return!0}}function j(){return null}var E,T={PROTECTED_FROM_OUTSIDE_DISTRACTION:{name:"Protected from Outside Distraction",available:b(),description:"ScrumMaster protects the team from outside distraction",cost:1,effect:j},WORKING_AGREEMENTS:{name:"Working Agreements",available:b(),description:"Create Team Working Agreements",cost:1,effect:function(){return{capacity:1,title:"TODO: Working Agreements active"}}},ELIMINATE_LONG_LIVED_FEATURE_BRANCHES:{type:"ENGINEERING",name:"All Work is done on Main or Trunk",available:b(),description:"When teams use Feature Branches \u2013 then they\u2019re not really using Continuous integration. Feature branching optimizes for the individual while harming the Team",cost:2,effect:function(){return{capacity:1,title:"TODO: All Work is done on Main or Trunk active"}}},GAME_ACTION_BUILD_SERVER:{type:"ENGINEERING",name:"Build Server",available:b(),description:"Setup Build Server and Continuous Integration. This is required to make future engineering improvements",cost:2,effect:j},GAME_ACTION_TEAMS_ON_SAME_FLOOR:{name:"Team Members On SameFloor",available:b(),description:"Getting Team Members on the same floor reduces the cost of communication as they don't have to go far to ask questions",cost:3,effect:function(e){return e<5?{capacity:e+1,title:"TODO: Team on same floor since ".concat(e+1," rounds")}:{capacity:5,title:"TODO: Team on same floor since 5 or more rounds"}}},GAME_ACTION_UNIT_TESTING:{type:"ENGINEERING",name:"Unit Testing",available:h([b(),p(2),(E="GAME_ACTION_BUILD_SERVER",function(e,t){return t.includes(E)})]),description:"TODO: SOME DESCRIPTION",cost:2,effect:function(){return{capacity:2,title:"TODO: Unit Testing active"}}},GAME_ACTION_INFORMAL_CROSS_TRAINING:{name:"Informal Cross Training",available:h([b(),p(3)]),description:"Informal cross-training for existing team members in an area the team is weak. (Testing anyone?)",cost:1,effect:function(){return{capacity:1,title:"TODO: Informal Cross Training active"}}}},R=Object.entries(T).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(u.a)(Object(u.a)({},r),{},{id:n})}));function _(e){return R.find((function(t){return e===t.id}))}function v(e,t,n){return e.selectedGameActionIds.map((function(e){return function(e,t,n){return _(e).effect(t,n)}(e,t,n)}))}function A(e){return O(e.selectedGameActionIds.map(_),"cost")}var I=n(9),g=[function(e){var t,n=0,r=Object(I.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.selectedGameActionIds.map(_).find((function(e){return"ENGINEERING"===e.type})))break;n+=1}}catch(c){r.e(c)}finally{r.f()}return 0===n?null:{capacity:-n,title:"TODO: TechnicalDebt Drag Effect Title",description:"No Engineering improvement for ".concat(n," round").concat(n>1?"s":"")}}],N={currentRound:{selectedGameActionIds:[]},pastRounds:[]};function S(e){if(!e.length)return[];var t=e.length,n=m(e,"selectedGameActionIds"),r=e.reduce((function(e,r,c){var i=v(r,t-(c+1),n);return e.concat(i)}),[]),c=g.map((function(t){return t(e)}));return r.concat(c).filter((function(e){return null!==e}))}function C(e){return e.reduce((function(e,t){return e+t.capacity}),10)}function G(e,t){switch(t.type){case"SELECT_GAME_ACTION":return Object(u.a)(Object(u.a)({},e),{},{currentRound:Object(u.a)(Object(u.a)({},e.currentRound),{},{selectedGameActionIds:[].concat(Object(f.a)(e.currentRound.selectedGameActionIds),[t.payload])})});case"NEXT_ROUND":return Object(u.a)(Object(u.a)({},e),{},{pastRounds:[].concat(Object(f.a)(e.pastRounds),[(n=e.currentRound,r=C(S(e.pastRounds))-A(e.currentRound),Object(u.a)(Object(u.a)({},n),{},{storiesCompleted:r<=0?0:Array(r).fill("").filter(l).length}))]),currentRound:{selectedGameActionIds:[]}})}var n,r}function y(){var e,t,n,r=Object(c.useReducer)(G,N),i=Object(s.a)(r,2),a=i[0],o=i[1],u=S(a.pastRounds),d=C(u),l=d-A(a.currentRound);return[{availableGameActions:(e=a.pastRounds.length+1,t=m(a.pastRounds,"selectedGameActionIds"),n=a.currentRound.selectedGameActionIds,R.filter((function(r){return r.available(e,t,n,r.id)}))),currentRound:{number:a.pastRounds.length+1,capacity:{available:l,total:d},activeEffects:u},result:{storiesCompleted:O(a.pastRounds,"storiesCompleted")},pastRounds:a.pastRounds.map((function(e,t){return{number:t+1}}))},o]}function D(){var e=y(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"High-Performance Team Game "}),n.currentRound.number>6?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Results"}),Object(r.jsxs)("p",{children:["Completed ",n.result.storiesCompleted," user stories"]})]}):Object(r.jsxs)(r.Fragment,{children:[0!==n.pastRounds.length&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("h2",{children:["Round: ",n.pastRounds.slice(-1)[0].number," results"]})}),Object(r.jsxs)("h2",{children:["Round ",n.currentRound.number," of 6"]}),Object(r.jsxs)("p",{children:["Capacity: ",n.currentRound.capacity.available," /"," ",n.currentRound.capacity.total]}),0!==n.currentRound.activeEffects.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Active Effects"}),n.currentRound.activeEffects.map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsxs)("p",{children:["Capacity: ",e.capacity]}),e.description&&Object(r.jsx)("p",{children:e.description})]})}))]}),Object(r.jsx)("button",{onClick:function(){return c({type:"NEXT_ROUND"})},children:"Complete Round"}),Object(r.jsx)("h2",{children:"Available Actions"}),n.availableGameActions.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:e.name}),Object(r.jsx)("p",{children:e.description}),Object(r.jsxs)("p",{children:["Cost: ",e.cost]}),Object(r.jsx)("button",{onClick:function(){return c({type:"SELECT_GAME_ACTION",payload:e.id})},children:"Commit"})]},e.id)}))]})]})}if("test"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENV){var x=window.top.document.querySelector(".reporter .restart");x&&x.click()}o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.ac0c97c5.chunk.js.map