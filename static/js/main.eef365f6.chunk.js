(this["webpackJsonphigh-performance-teams-game"]=this["webpackJsonphigh-performance-teams-game"]||[]).push([[0],{10:function(e,t,n){e.exports={roundList:"Actions_roundList__1eXTE",roundVisibleToggle:"Actions_roundVisibleToggle__1R4cj",roundActionList:"Actions_roundActionList__3KY_i",action:"Actions_action__2Me2d",disabled:"Actions_disabled__1_qfh",missingDep:"Actions_missingDep__6ylGs",actionImage:"Actions_actionImage__BHeO6",actionIcon:"Actions_actionIcon__3AhOt",actionSelected:"Actions_actionSelected__1b36j",actionFinished:"Actions_actionFinished__3CZlA",arrow:"Actions_arrow__QUeg2",overlay:"Actions_overlay__1oAsV",overlayInner:"Actions_overlayInner__chZ-k",closeOverlay:"Actions_closeOverlay___0tEl",overlayTitle:"Actions_overlayTitle__2w_bm",requiresTitle:"Actions_requiresTitle__2wHur",requiresList:"Actions_requiresList__3Ax-b"}},12:function(e,t,n){e.exports={cap:"Status_cap__gr-F0",sign:"Status_sign__2-nEE",status:"Status_status__1LWe8",title:"Status_title__d3A6m",capThisRound:"Status_capThisRound__Pelkl",userStoryWarning:"Status_userStoryWarning__1BBoS",userStoryCritical:"Status_userStoryCritical__-kvV5",negative:"Status_negative__3Qwiy",negativeValue:"Status_negativeValue__hgaBD"}},154:function(e,t,n){e.exports={chart:"CapStoryChart_chart__3fmBX"}},155:function(e,t,n){e.exports={value:"EffectValue_value__2jCJi"}},157:function(e,t,n){e.exports={header:"Header_header__3mObx"}},158:function(e,t,n){e.exports={content:"Content_content__mFJ5h"}},16:function(e,t,n){e.exports={number:"Round_number__1Y07O",title:"Round_title__3q6Dt",description:"Round_description__3UaD3",center:"Round_center__3VEdA",userStoryIcons:"Round_userStoryIcons__3dSH1",userStoryDescription:"Round_userStoryDescription__3t-8F",userStoryChanceList:"Round_userStoryChanceList__RRkIa",gremlinEffects:"Round_gremlinEffects__1WyG6"}},194:function(e,t,n){},376:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(2),i=n.n(a),c=n(59),s=n.n(c),o=(n(194),n(3)),l=n(9),u=n(11);function d(){return Math.random()}function h(e,t){var n=0;return e.forEach((function(e){n+=e[t]||0})),n}function m(e,t){var n=[];return e.forEach((function(e){n.push.apply(n,Object(u.a)(e[t]))})),n}var j=n(37),p=n.n(j),b=n(60);function f(e){var t=0;if(0===e.length)return t.toString(36).replace(/^-/,"");for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t.toString(36).replace(/^-/,"")}var O=new Promise(function(){var e=Object(b.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:return e.prev=3,e.next=6,fetch("/asset-manifest.json");case 6:return r=e.sent,e.t0=t,e.t1=f,e.next=11,r.text();case 11:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=19;break;case 16:e.prev=16,e.t4=e.catch(3),n(e.t4);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t,n){return e.apply(this,arguments)}}()),g="TEAM_GAME_STATE",y=Symbol("GAME_STATE_OUTDATED"),v=Symbol("GAME_STATE_OK");function x(){return Object.fromEntries(window.location.search.replace(/^\?/,"").split("&").map((function(e){var t=e.split("=");return[decodeURIComponent(t[0]),decodeURIComponent(t[1])]})))}function A(){return(A=Object(b.a)(p.a.mark((function e(){var t,n,r,a,i,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(g),n=x(),!(r=n.restore)){e.next=15;break}return e.prev=4,a=JSON.parse(atob(r)),e.next=8,O;case 8:return i=e.sent,e.abrupt("return",{state:a,restored:new Date(parseInt(n.from,10)),status:n.version!==i?y:v});case 12:e.prev=12,e.t0=e.catch(4),console.warn(e.t0);case 15:if(null!==t){e.next=17;break}return e.abrupt("return",{state:W,status:v});case 17:return e.prev=17,c=JSON.parse(t),e.next=21,O;case 21:return s=e.sent,e.abrupt("return",{state:c.state,status:c.version!==s?y:v});case 25:return e.prev=25,e.t1=e.catch(17),console.warn(e.t1),e.abrupt("return",{state:W,status:v});case 29:case"end":return e.stop()}}),e,null,[[4,12],[17,25]])})))).apply(this,arguments)}function R(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=!1;return O.then((function(t){e||r(t)})).catch((function(t){e||console.warn(t)})),function(){e=!0}}),[]),n}function C(e,t){localStorage.setItem(g,JSON.stringify({version:t,state:e}))}function E(e){return function(){window.confirm("Do you really want to start a new Game? You can not come back to this one afterwards.")&&e({type:"RESTART_GAME"})}}var S=Symbol("EFFECT_HIDDEN"),_="data:image/jpeg;base64,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",w={1:{title:"Team, welcome to the World\u2019s Smallest Online Bookstore",description:Object(r.jsx)("p",{children:"We hired you because you\u2019re the best individuals in your respective areas. Please remember that we\u2019re Vulture Capital funded and we have only a few months runway, so you must deliver. This first Sprint, the company really needs you to prove that you can deliver a working Bookstore soon."}),effect:function(){return{title:S,capacityChange:10,userStoryChange:30,gremlinChange:0}},actions:{PROTECTED_FROM_OUTSIDE_DISTRACTION:{image:"https://placekitten.com/100/100",name:"Protected from Outside Distraction",description:Object(r.jsx)("p",{children:"ScrumMaster protects the team from outside distraction. Example: a manager asking a team member to do them a small favour as it will only take an hour."}),cost:1,effect:function(){return{userStoryChange:10}}},CLARIFY_PRODUCT_VISION:{image:"https://placekitten.com/100/100",name:"Clarify Product Vision",description:Object(r.jsx)("p",{children:"PO and Development Team collaborate on understanding Product Vision using an exercise like Product Box. Teams that aren\u2019t involved in the creation of their product vision are doomed to build Product that neither PO, Customers, nor Stakeholders want."}),cost:2,effect:function(){return{userStoryChange:10}}},WORKING_AGREEMENTS:{image:_,type:"COMMUNICATION",name:"Working Agreements",description:Object(r.jsx)("p",{children:"Working Agreements are a simple, powerful way of creating explicit guidelines for what kind of work culture you want for your Team. They are a reminder for everyone about how they can commit to respectful behaviour and communication."}),cost:1,effect:function(){return{capacityChange:1}}},BUILD_SERVER:{image:_,type:"ENGINEERING",name:"Build Server",description:Object(r.jsx)("p",{children:"Setup Build Server and Continuous Integration. This is required to make future engineering improvements."}),cost:2},TEAMS_ON_SAME_FLOOR:{image:_,name:"Team Members on Same Floor",type:"COMMUNICATION",description:"Getting Team Members on the same floor reduces the cost of communication as they don't have to go far to ask questions.",cost:3,effect:function(e){return e<6?{capacityChange:e,title:"".concat(this.name," active since ").concat(e+1," rounds")}:{capacityChange:5,title:"".concat(this.name," active since 5 or more rounds")}}}}},2:{title:"Failed Expectations",description:Object(r.jsx)("p",{children:"Your team didn't meet our expectations that you would complete 10 User Stories in the last round. Our vulture capitalists are becoming concerned and ask if you can really deliver? They have decided we need more problem solvers on the team."}),actions:{REMOTE_TEAM_AVATARS:{icon:"\ud83d\udc4b",name:"Remote Team Avatars",description:Object(r.jsx)("p",{children:"Remote Teams suffer from the start, in that team members don't get to know about their colleagues easily. To counter this, run a short get to know you session. Get team members to share things like: working hours, city they live in, time zone, contact info. If people are open, share some personal details such as hobbies, family status, favorite food and beverage. Some teams even create a wiki or site to share this information."}),cost:1,effect:function(){return{capacityChange:1}}},ELIMINATE_LONG_LIVED_FEATURE_BRANCHES:{image:_,type:"ENGINEERING",name:"All Work is Done on Main or Trunk",description:Object(r.jsx)("p",{children:"When teams use Feature Branches \u2013 then they\u2019re not really using Continuous Integration. Feature branching optimizes for the individual while harming the Team."}),cost:2,effect:function(){return{capacityChange:1}}},UNIT_TESTING:{icon:"\ud83c\udfd7",type:"ENGINEERING",name:"Unit Testing",available:{requires:"BUILD_SERVER"},description:Object(r.jsx)("p",{children:"Unit Testing is the approach of testing the smallest possible fragment of code. It ensures that the code does what the developer expected it do."}),cost:2,effect:function(){return{capacityChange:1}}},SOCIAL_TIME:{image:_,type:"COMMUNICATION",name:"Social Time",description:Object(r.jsx)("p",{children:"Setting aside some time during the working day to talk to your peers outside of the work itself."}),cost:1,effect:function(){return{capacityChange:1,title:"This benefits the team, as team members get to know each other not just as doers of work."}}},PROBLEM_SOLVING_BONUS:{image:_,name:"Problem Solving Award",description:Object(r.jsx)("p",{children:"Offer a bonus to the team member who solves our current site performance problem."}),cost:0,effect:function(e){var t=0;return 1===e&&(t=1),{capacityChange:t,title:"".concat(this.name," active since ").concat(e," rounds")}}},BACKLOG_REFINEMENT:{image:_,type:"COMMUNICATION",name:"Backlog Refinement",description:Object(r.jsx)("p",{children:"The Development Team and the Product Owner sit down every Sprint. They take the time to better understand upcoming features. They might estimate or split stories, create acceptance criteria. They also create new stories and delete ones that no longer make sense. All of this improves their understanding of the product they're building."}),cost:3,effect:function(){return{userStoryChange:15}}}}},3:{title:"Work Harder",description:Object(r.jsx)("p",{children:"Things are slowly improving. You are getting better. *Please* work harder in the next Sprint."}),effect:function(){return{title:S,gremlinChange:50}},actions:{OBSERVE_PEOPLE_AND_RELATIONSHIPS:{image:_,type:"COMMUNICATION",name:"Observe People + Relationships",description:Object(r.jsx)("p",{children:"ScrumMaster spends time observing people, how they interact, and the quality of their relationship."}),cost:1,effect:function(){return{capacityChange:1,title:"Watching the Team tells you where to put your coaching energy."}}},ONE_ON_ONES:{image:_,type:"COMMUNICATION",name:"One on One",description:Object(r.jsx)("p",{children:"ScrumMaster meets with all team members for a regular one-on-one. Once \u2018Gremlins\u2019 start to popup, this action mitigates the worst of the effects, because you already have a deeper understanding of team member needs."}),cost:1},PAIR_PROGRAMMING:{image:_,type:"ENGINEERING",name:"Pair Programming",description:Object(r.jsx)("p",{children:"Two team members \u2013 one computer"}),cost:2,effect:function(){return{capacityChange:1,title:"Team Members working in pairs have a lower defect rate, simpler code and learn from each other."}}},STORY_MAPPING_OR_OTHER:{image:_,type:"COMMUNICATION",name:"Story Mapping",available:{requires:"CLARIFY_PRODUCT_VISION"},description:Object(r.jsx)("p",{children:"Story Mapping is a strategic tool that gets Developers and the Product Owner to discuss strategy. Story mapping helps link understanding of Product Vision with the individual User Stories."}),cost:2,effect:function(){return{userStoryChange:10}}},TEST_DRIVEN_DEVELOPMENT:{image:_,type:"ENGINEERING",name:"Test Driven Development",available:{requires:"BUILD_SERVER"},description:Object(r.jsx)("p",{children:"Writing Unit-level Tests before writing the code. TDD helps the quality by ensuring the developer understands what they're attempting to build before they build it. As a side effect, it reduces the volume of code and its complexity, thereby reducing the number of defects. This skill takes time to learn."}),cost:3,effect:function(e){var t=e-1;return e>3&&(t=2),{capacityChange:t}}}}},4:{title:"Go Live Soon",description:Object(r.jsx)("p",{children:"We must go live with an early version of the product this round, for a tradeshow. Due to your limited productivity in past rounds, management are prepared to offer some options to help you out. We will provide an extra \u20184\u2019 points of capacity for anything that helps. Another team member? Overtime?"}),effect:function(e,t){return 4===t?{capacityChange:4,title:"Management is paying overtime"}:null},actions:{CROSS_SKILLING:{image:_,name:"Informal Cross-Skilling",description:"Informal cross-skilling for existing team members in an area the team is weak. This is often achieved through Pair Programming, Learning Time, etc (Testing anyone?)",cost:4,effect:function(e){var t=e-1;return e>4&&(t=3),{capacityChange:t}}},EXTERNAL_CROSS_TRAINING:{image:_,name:"Send Team Members on a Testing Course",description:"Take an outside course to improve the skills of one existing team members in an area the team is weak. (Testing anyone?)",cost:3,effect:function(e){var t=0;return e>2&&(t=2),{capacityChange:t}}},PERSONAL_PRODUCTIVITY_BONUS:{image:_,name:"Personal Productivity Bonus",description:"The company will offer anyone who exceeds their performance goals an extra $5,000. A manager says team members working harder will increase the likelihood of completing features on time",cost:2,effect:function(e){return 0===e?[{userStoryChange:50,title:"Productivity Bonus helped in the short term - team members focused on individual productivity"}]:e>=2?[{capacityChange:-1,title:"Productivity Bonus helped in the short term and then the benefit waned. Along the way it harmed collaboration"}]:null}}}},5:{title:"We're Live and We Have Real Customers",description:Object(r.jsx)("p",{children:"Congratulations, our product is live in the market. People are using it and they're finding bugs. We will have to go deal with those bugs this Sprint."}),actions:{}}},I={GREMLIN_MANAGEMENT_YELLS:{name:"Management yells at a team member in public",probability:function(){return 10},description:Object(r.jsx)("p",{children:"Management yells at a team member in public for not pulling their weight. The team member who was yelled at feels their personal status was reduced. The whole team fears they will be next.\xa0 If you have already implemented: Protection from Outside Distraction, this will eliminate the effect."}),effect:function(e,t){return t.includes("PROTECTED_FROM_OUTSIDE_DISTRACTION")?null:{capacityChange:-2,title:"Management yells at a team member in public"}}},GREMLIN_EMERGENCY_ON_OTHER_TEAM:{probability:function(){return 10},name:"Emergency on other team",description:Object(r.jsx)("p",{children:"Your best tester is needed by another team for a while.\xa0 If you have already implemented: Cross Skilling, External Cross Training or Protection from Outside Distraction, they will reduce effects."}),effect:function(e,t){if(e>=3||t.includes("PROTECTED_FROM_OUTSIDE_DISTRACTION")&&e>=2)return null;var n=-3;return t.includes("CROSS_SKILLING")&&(n+=1),t.includes("EXTERNAL_CROSS_TRAINING")&&(n+=1),{capacityChange:n,title:"We\u2019ve had an emergency on another team, we need your best tester for a while."}}},GREMLIN_NOT_PULLING_THEIR_WEIGHT:{probability:function(){return 10},name:"Team member isn't pulling their weight",description:Object(r.jsx)("p",{children:"One of the people on your team isn\u2019t pulling their weight - not even close. However, nothing seems to get done about it. The rest of the team is pulling together and taking this person\u2019s work on, but it\u2019s harming morale and productivity. \xa0 If you have already implemented: A ScrumMaster conducts one on ones - you will be working on the problem already; Cross Skilling - the problem person is more likely to grow because they see others and learn from them."}),effect:function(e,t){var n=-2;return(t.includes("ONE_ON_ONES")||t.includes("CROSS_SKILLING"))&&(n=-1),{capacityChange:n,title:"Team member isn't pulling their weight"}}},GREMLIN_NOT_AT_DAILY_SCRUM:{probability:function(){return 10},name:"Team Member consistently late or misses Daily Scrum",description:Object(r.jsx)("p",{children:"When one team member is consistently late - or, worse, missing - they signal disrespect to their team. Other team members are annoyed that this person does that to them. \xa0 ScrumMaster Conducts One on Ones - you will become aware of the problem early; Working Agreements - empower team members to raise the issue."}),effect:function(e,t){var n=-1;return(t.includes("ONE_ON_ONES")||t.includes("WORKING_AGREEMENTS"))&&(n=0),{capacityChange:n,title:"Team Member consistently late or misses Daily Scrum"}}}},T=n(91),N={technicalDebtDrag:function(e){var t,n=0,r=Object(T.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.selectedGameActionIds.map(D).find((function(e){return"ENGINEERING"===e.type})))break;n+=1}}catch(a){r.e(a)}finally{r.f()}return 0===n?null:{capacityChange:-n,title:"TechnicalDebt Drag Effect",description:"No Engineering improvement for ".concat(n," round").concat(n>1?"s":"")}},communicationDebtDrag:function(e){var t,n=0,r=Object(T.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.selectedGameActionIds.map(D).find((function(e){return"COMMUNICATION"===e.type})))break;n+=1}}catch(a){r.e(a)}finally{r.f()}return 0===n?null:{capacityChange:-n,title:"Communication Drag Effect Title",description:"No Communication improvement for ".concat(n," round").concat(n>1?"s":"")}}};function k(e){return null!==e}function G(e){return e.title!==S}function U(e){for(var t,n,r=e.pastRounds.length+1,a=[],i=0;i<r;i++){var c,s=w[i+1];if(s){var l=e.pastRounds.slice(0,i),d=(null===(c=s.effect)||void 0===c?void 0:c.call(s,l,r))||null;Array.isArray(d)?a.push.apply(a,Object(u.a)(d)):a.push(d)}}var h=(null===(t=w[r+1])||void 0===t||null===(n=t.effect)||void 0===n?void 0:n.call(t,[].concat(Object(u.a)(e.pastRounds),[e.currentRound]),r+1))||[],m=(Array.isArray(h)?h:[h]).filter((function(e){return void 0!==e.gremlinChange})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{userStoryChange:void 0,capacityChange:void 0})}));return a.filter(k).concat(m)}var L=Object.entries(w).reduce((function(e,t){var n=Object(l.a)(t,2),r=n[0],a=n[1];return e.concat(Object.entries(a.actions).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(o.a)(Object(o.a)({},a),{},{round:parseInt(r),id:n})})))}),[]);function D(e){var t=L.find((function(t){return e===t.id}));if(!t)throw new Error("Could not find GameAction with id ".concat(e,". Are you sure it is registered?"));return t}var M=Symbol("UNIQUE");function V(e,t,n){return L.map((function(r){var a;if(e<r.round)return null;var i=function(e){var t,n=null===(t=e.available)||void 0===t?void 0:t.requires;return n?Array.isArray(n)?n:[n]:[]}(r),c=i.filter((function(e){return!t.includes(e)})),s=i.map(D).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{missing:c.includes(e.id)})}));if(c.length)return{gameAction:r,status:{type:"MISSING_DEP",dependencies:s}};var l=!1===(null===(a=r.available)||void 0===a?void 0:a.unique)?n.filter((function(e){return e===r.id})).length:M;return l===M&&t.includes(r.id)?{gameAction:r,status:{type:"FINISHED",dependencies:s}}:{gameAction:r,status:n.includes(r.id)?{type:"SELECTED",times:l,dependencies:s}:{type:"AVAILABLE",times:l,dependencies:s}}})).filter((function(e){return null!==e}))}function B(e,t,n){var r,a=D(e),i=(null===(r=a.effect)||void 0===r?void 0:r.call(a,t,n))||null;if(null===i)return[];if(Array.isArray(i))return i;var c="".concat(a.name," active");return[Object(o.a)({title:c},i)]}function F(e){return null!==e}function P(e,t,n){if(e.gremlin){var r=I[e.gremlin].effect(t,n);if(Array.isArray(r))return r;if(r)return[r]}return[]}var W={currentRound:{gremlin:null,selectedGameActionIds:[]},pastRounds:[],ui:{review:!1,view:"welcome"},log:[]};function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(e.pastRounds,"selectedGameActionIds"),n=[];n.push.apply(n,Object(u.a)(U(e))),e.currentRound.selectedGameActionIds.forEach((function(e){B(e,0,t).forEach((function(e){void 0===e.userStoryChange&&void 0===e.gremlinChange||n.push(Object(o.a)(Object(o.a)({},e),{},{capacityChange:void 0}))}))})),n.push.apply(n,Object(u.a)(P(e.currentRound,0,t)));var r=e.pastRounds.length;return e.pastRounds.forEach((function(e,a){var i=r-a;n.push.apply(n,Object(u.a)(P(e,i,t)).concat(Object(u.a)(q(e,i,t).filter(k))))})),Object.values(N).forEach((function(t){var r=t(e.pastRounds);Array.isArray(r)?n.push.apply(n,Object(u.a)(r)):r&&n.push(r)})),n}function H(e){return e.reduce((function(e,t){return e+(t.capacityChange||0)}),0)}function K(e,t){switch(t.type){case"SELECT_GAME_ACTION":return Object(o.a)(Object(o.a)({},e),{},{currentRound:Object(o.a)(Object(o.a)({},e.currentRound),{},{selectedGameActionIds:[].concat(Object(u.a)(e.currentRound.selectedGameActionIds),[t.payload])}),log:e.log.concat(t)});case"UNSELECT_GAME_ACTION":return Object(o.a)(Object(o.a)({},e),{},{currentRound:Object(o.a)(Object(o.a)({},e.currentRound),{},{selectedGameActionIds:e.currentRound.selectedGameActionIds.filter((function(e){return e!==t.payload}))}),log:e.log.concat(t)});case"NEXT_ROUND":return Object(o.a)(Object(o.a)({},e),{},{ui:{review:!1,view:"welcome"},pastRounds:[].concat(Object(u.a)(e.pastRounds),[t.payload.closedRound]),currentRound:(n=t.payload.gremlin,{gremlin:n,selectedGameActionIds:[]}),log:e.log.concat(t)});case"SET_UI_VIEW_ACTION":return Object(o.a)(Object(o.a)({},e),{},{ui:Object(o.a)(Object(o.a)({},e.ui),{},{view:t.payload})});case"SET_UI_CLOSED_ROUND_ACTION":return Object(o.a)(Object(o.a)({},e),{},{ui:Object(o.a)(Object(o.a)({},e.ui),{},{view:"results",closedRound:t.payload})});case"SET_UI_REVIEW_ACTION":return Object(o.a)(Object(o.a)({},e),{},{ui:Object(o.a)(Object(o.a)({},e.ui),{},{view:"welcome",review:t.payload})});case"RESTART_GAME":return W}var n}function q(e,t,n){var r=[];return e.selectedGameActionIds.forEach((function(e){r.push.apply(r,Object(u.a)(B(e,t,n)))})),r}function J(e){return h(e.selectedGameActionIds.map((function(e){return{cost:(t=D(e),t.cost)};var t})),"cost")}function Y(e){var t=Q(e),n=H(t)-J(e.currentRound),r=h(t,"userStoryChange");return Object(o.a)(Object(o.a)({},e.currentRound),{},{storiesCompleted:n<=0?0:Array.from({length:n}).filter((function(){return function(e){return 100*d()<e}(r)})).length})}function Z(e){return e<0?0:e}function X(e){var t,n,r=m(e.pastRounds,"selectedGameActionIds"),a=Q(e,r),i=Z(H(a)),c=a.filter(G),s=h(a,"userStoryChange"),o=Z(i-J(e.currentRound)),l=e.pastRounds.length+1,u=e.currentRound.selectedGameActionIds.map(D),d=null===(t=w[l])||void 0===t?void 0:t.title,j=null===(n=w[l])||void 0===n?void 0:n.description,p=function(e){if(e.gremlin)return I[e.gremlin]}(e.currentRound),b=(null===p||void 0===p?void 0:p.effect(0,r))||null,f=(Array.isArray(b)?b:[b]).filter(k).filter(G);return{selectedGameActions:u,title:d,description:j,gremlin:p?{name:p.name,description:p.description,effect:f}:void 0,number:l,capacity:{available:o,total:i},gremlinChance:h(a,"gremlinChange"),userStoryChance:s,activeEffects:c}}function z(e){var t=Object(a.useReducer)(K,e),n=Object(l.a)(t,2),r=n[0],i=n[1];!function(e){var t=R();Object(a.useEffect)((function(){t&&C(e,t)}),[e,t])}(r);var c=function(e){var t=R();return"".concat(window.location.href,"?restore=").concat(encodeURIComponent(btoa(JSON.stringify(e)))).concat(t?"&version=".concat(encodeURIComponent(t)):"","&from=").concat(encodeURIComponent((new Date).getTime()))}(r),s=!1===r.ui.review?r:{currentRound:r.pastRounds[r.ui.review],pastRounds:r.pastRounds.slice(0,r.ui.review),ui:Object(o.a)(Object(o.a)({},r.ui),{},{closedRound:r.pastRounds[r.ui.review]}),log:r.log};return[{availableGameActions:V(s.pastRounds.length+1,m(s.pastRounds,"selectedGameActionIds"),s.currentRound.selectedGameActionIds),currentRound:X(s),pastRounds:s.pastRounds.map((function(e,t){var n=s.pastRounds.slice(0,t),r=s.pastRounds[t];return Object(o.a)(Object(o.a)({},X({pastRounds:n,currentRound:r})),{},{storiesCompleted:e.storiesCompleted})})),link:c,ui:s.ui,log:s.log},i,function(){return Y(s)},function(){return function(e){var t,n=Object.entries(I).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(o.a)({id:n},r)})),r=h(Q(e),"gremlinChange");if(100*d()>r)return null;var a=[e.currentRound].concat(Object(u.a)(e.pastRounds)).map((function(e){return e.gremlin})).filter(F),i=n.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{currentProbability:t.probability(e)})})).filter((function(e){return!a.includes(e.id)&&e.currentProbability>0})),c=h(i,"currentProbability");if(0===c)return null;for(var s=d()*c,m=i.shift();s>((null===(j=m)||void 0===j?void 0:j.currentProbability)||1/0);){var j,p;s-=(null===(p=m)||void 0===p?void 0:p.currentProbability)||1/0,m=i.shift()}return(null===(t=m)||void 0===t?void 0:t.id)||null}(s)}]}var $=n(26),ee=n(15),te=n(154),ne=n.n(te),re="Chance of completing User Stories",ae="User Stories Attempted",ie="User Stories Completed",ce="Total Capacity";function se(e){var t=e.rounds,n=Object(a.useMemo)((function(){var e=[],n=100;return t.forEach((function(t,r){var a;n=Math.max(n,10*Math.ceil(t.userStoryChance/10)),e.push((a={name:"Round ".concat(r+1)},Object($.a)(a,re,t.userStoryChance),Object($.a)(a,ce,t.capacity.total),Object($.a)(a,ae,t.capacity.available),Object($.a)(a,ie,t.storiesCompleted),a))})),[e,Array.from({length:1+n/10}).map((function(e,t){return 10*t}))]}),[t]),i=Object(l.a)(n,2),c=i[0],s=i[1];return Object(r.jsx)(ee.e,{className:ne.a.chart,height:300,width:"100%",children:Object(r.jsxs)(ee.d,{data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(ee.a,{strokeDasharray:"3 3"}),Object(r.jsx)(ee.g,{dataKey:"name"}),Object(r.jsx)(ee.h,{yAxisId:"right",orientation:"right"}),Object(r.jsx)(ee.h,{yAxisId:"left",orientation:"left",unit:"%",ticks:s}),Object(r.jsx)(ee.f,{}),Object(r.jsx)(ee.b,{}),Object(r.jsx)(ee.c,{yAxisId:"right",type:"monotone",dataKey:ce,stroke:"#0c79df"}),Object(r.jsx)(ee.c,{yAxisId:"right",type:"monotone",dataKey:ae,stroke:"#e2d02f"}),Object(r.jsx)(ee.c,{yAxisId:"left",type:"monotone",dataKey:re,stroke:"#cd66e7",unit:"%",activeDot:{r:8}}),Object(r.jsx)(ee.c,{yAxisId:"right",type:"monotone",dataKey:ie,stroke:"#1be400"})]})})}var oe=n(14),le=n(4),ue=n.n(le),de=n(94),he=n.n(de);function me(e){var t=e.primary,n=e.className,a=Object(oe.a)(e,["primary","className"]);return Object(r.jsx)("button",Object(o.a)({className:ue()(n,he.a.button,t&&he.a.primary)},a))}function je(e){var t=h(e.state.pastRounds.map((function(e){return{storiesAttempted:e.capacity.available}})),"storiesAttempted"),n=h(e.state.pastRounds,"storiesCompleted"),a=e.dispatch;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Results"}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Final Capacity ",e.state.currentRound.capacity.total]}),Object(r.jsxs)("li",{children:["Attempted ",t," user stories"]}),Object(r.jsxs)("li",{children:["Completed ",n," user stories"]})]}),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(me,{onClick:function(){return a({type:"SET_UI_REVIEW_ACTION",payload:0})},children:"Review Game"}),Object(r.jsx)(me,{primary:!0,onClick:E(a),children:"Start New Game"})]}),Object(r.jsx)(se,{rounds:e.state.pastRounds}),Object(r.jsx)("h3",{children:"Game Link"}),Object(r.jsx)("p",{children:"You can save or share this link. Opening it will restore this current game."}),Object(r.jsx)("pre",{children:Object(r.jsx)("input",{style:{width:"100%"},value:e.state.link,readOnly:!0,onClick:function(e){return e.target.select()}})})]})}var pe=n(16),be=n.n(pe);function fe(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("h4",{className:be.a.number,children:["Round ",e.currentRound.number," of ",8]}),e.currentRound.title&&Object(r.jsx)("h2",{className:be.a.title,children:e.currentRound.title}),"welcome"===e.ui.view&&e.welcome,"actions"===e.ui.view&&e.actions,"results"===e.ui.view&&e.results]})}function Oe(e){var t,n=e.currentRound.activeEffects.filter((function(e){return void 0!==e.userStoryChange}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"What is the chance that each User Story will successfully be built?"}),Object(r.jsx)("h3",{children:"Calculation"}),Object(r.jsxs)("ul",{className:be.a.userStoryChanceList,children:[Object(r.jsxs)("li",{children:["\xa0\xa0\xa0",30,"% base chance"]}),n.map((function(e){return Object(r.jsxs)("li",{children:[e.userStoryChange>0?"+":"-"," ",e.userStoryChange.toString().replace(/^-/,""),"%"," ",e.title]},e.title)})),Object(r.jsxs)("li",{children:["= ",e.currentRound.userStoryChance,"% chance to successful finish user-story"]}),Object(r.jsx)("li",{children:"---"}),!e.ui.closedRound&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("li",{children:["x \xa0 ",e.currentRound.capacity.available," capacity to spend on user stories"]}),Object(r.jsx)("li",{children:"\xa0"})]}),e.ui.closedRound&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("li",{children:[e.currentRound.capacity.available," user stories attempted"]}),Object(r.jsxs)("li",{children:[e.ui.closedRound.storiesCompleted," user stories completed"]})]})]}),Object(r.jsx)("ul",{className:be.a.userStoryIcons,children:Array(e.currentRound.capacity.available).fill("").map((function(t,n){return Object(r.jsx)("li",{children:e.ui.closedRound?n<e.ui.closedRound.storiesCompleted?"\u2705":"\u274c":"\u2753"},n)}))}),Object(r.jsxs)("div",{className:be.a.center,children:[!1===e.ui.review?Object(r.jsx)(me,{disabled:!!e.ui.closedRound,onClick:function(){e.dispatch({type:"SET_UI_CLOSED_ROUND_ACTION",payload:e.closeRound()})},children:"Roll for User Stories"}):Object(r.jsx)(me,{onClick:function(){e.dispatch({type:"SET_UI_VIEW_ACTION",payload:"actions"})},children:"\u25c0 Back"}),Object(r.jsx)(me,{primary:!0,disabled:!e.ui.closedRound,onClick:function(){if(!1===e.ui.review){if(!e.ui.closedRound)throw new Error("Can not go to next round without closing this one");e.dispatch({type:"NEXT_ROUND",payload:{closedRound:e.ui.closedRound,gremlin:e.rollGremlin()}})}else{var t=e.ui.review+1;e.dispatch({type:"SET_UI_REVIEW_ACTION",payload:t<8&&t})}},children:e.ui.review&&e.ui.review+1>=8?"Close Review":e.pastRounds.length+1===8?"End Game":"Next Round"})]}),Object(r.jsx)(se,{rounds:[].concat(Object(u.a)(e.pastRounds),[Object(o.a)(Object(o.a)({},e.currentRound),{},{storiesCompleted:null===(t=e.ui.closedRound)||void 0===t?void 0:t.storiesCompleted})])})]})}var ge=n(155),ye=n.n(ge);function ve(e){return Object(r.jsxs)("span",{className:ye.a.value,children:[e.value>0?"+":"-",String(e.value).replace(/^-/,""),e.unit]})}function xe(e){return Object(r.jsxs)(r.Fragment,{children:[void 0!==e.effect.capacityChange&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ve,{value:e.effect.capacityChange})," Capacity"]}),void 0!==e.effect.gremlinChange&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ve,{value:e.effect.gremlinChange,unit:"%"})," Chance of Gremlins occurring"]}),void 0!==e.effect.userStoryChange&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ve,{value:e.effect.userStoryChange,unit:"%"})," Chance of User Stories succeeding"]})]})}function Ae(e){return Object(r.jsxs)(r.Fragment,{children:[e.children?Object(r.jsx)("div",{className:be.a.description,children:e.children}):null,e.gremlin&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Gremlin"}),"Just happened:\xa0",Object(r.jsxs)("strong",{children:["\u26a0\ufe0f ",e.gremlin.name]}),e.gremlin.description,Object(r.jsx)("ul",{className:be.a.gremlinEffects,children:e.gremlin.effect.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(xe,{effect:e})},e.title)}))})]})]})}function Re(e){var t=e.review;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae,{gremlin:e.gremlin,children:e.children}),Object(r.jsxs)("div",{className:be.a.center,children:[t?Object(r.jsxs)(me,{onClick:function(){e.dispatch({type:"SET_UI_REVIEW_ACTION",payload:t-1})},children:["\u25c0 Round ",t]}):null,Object(r.jsx)(me,{primary:!0,onClick:function(){e.dispatch({type:"SET_UI_VIEW_ACTION",payload:"actions"})},children:!1===t?"Start Round":"Show Actions"}),!1!==t&&t+1<8?Object(r.jsxs)(me,{onClick:function(){e.dispatch({type:"SET_UI_REVIEW_ACTION",payload:t+1})},children:["Round ",t+2," \u25b6"]}):null]})]})}var Ce=n(10),Ee=n.n(Ce),Se=n(382);function _e(e){var t,n=e.referenceElement,i=e.onClose,c=Object(a.useRef)(null),s=Object(a.useState)(null),u=Object(l.a)(s,2),d=u[0],h=u[1];Object(a.useEffect)((function(){var e=function(e){d&&e.target&&(d.contains(e.target)||i())};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[d,i]),c.current=d;var m=Object(a.useState)(null),j=Object(l.a)(m,2),p=j[0],b=j[1],f=Object(Se.a)(n,d,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{fallbackPlacements:["bottom","bottom-start","top-end","top","top-start","right"]}},{name:"preventOverflow"},{name:"arrow",options:{element:p}}]});return Object(r.jsxs)("div",Object(o.a)(Object(o.a)({"data-popper-placement":null===(t=f.state)||void 0===t?void 0:t.placement,ref:h,className:Ee.a.overlay,style:f.styles.popper},f.attributes),{},{children:[Object(r.jsx)("div",{ref:b,style:f.styles.arrow,className:Ee.a.arrow}),Object(r.jsxs)("div",{className:Ee.a.overlayInner,children:[Object(r.jsx)("button",{className:Ee.a.closeOverlay,onClick:function(){return e.onClose()},children:"\u2573"}),Object(r.jsx)("h3",{className:Ee.a.overlayTitle,children:e.title}),e.children]})]}))}function we(e){var t,n=e.gameAction,a=e.className,i=e.style,c=Object(oe.a)(e,["gameAction","className","style"]);return t=n,Object.getOwnPropertyNames(t).includes("image")?Object(r.jsx)("span",Object(o.a)({className:ue()(Ee.a.actionImage,a),style:Object(o.a)({backgroundImage:"url(".concat(n.image,")")},i)},c)):Object(r.jsx)("span",Object(o.a)(Object(o.a)({className:ue()(Ee.a.actionIcon,a),style:i},c),{},{children:n.icon}))}function Ie(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),i=n[0],c=n[1],s=Object(a.useRef)(),o=e.gameAction,u=e.review||"AVAILABLE"===e.status.type&&o.cost>e.availableCapacity||["MISSING_DEP","FINISHED"].includes(e.status.type);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{ref:c,onClick:function(){s.current&&clearTimeout(s.current),s.current=setTimeout((function(){return e.onOpen(!0)}),300)},onDoubleClick:function(){u||(s.current&&clearTimeout(s.current),e.onSelect("AVAILABLE"===e.status.type))},className:ue()(Ee.a.action,u&&!e.review&&Ee.a.disabled,"MISSING_DEP"===e.status.type&&Ee.a.missingDep,"SELECTED"===e.status.type&&Ee.a.actionSelected,"FINISHED"===e.status.type&&Ee.a.actionFinished),children:[Object(r.jsx)(we,{gameAction:e.gameAction}),Object(r.jsx)("span",{children:e.gameAction.name})]}),e.isOpen&&Object(r.jsxs)(_e,{referenceElement:i,title:e.gameAction.name,onClose:function(){return e.onOpen(!1)},children:[e.status.dependencies.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{className:Ee.a.requiresTitle,children:"Requires"}),Object(r.jsx)("ul",{className:Ee.a.requiresList,children:e.status.dependencies.map((function(e){return Object(r.jsxs)("li",{children:[e.missing?"\u274c":"\u2705"," ",e.name]},e.id)}))})]}):null,e.gameAction.description,Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"Cost"}),": ",e.gameAction.cost]}),!u&&Object(r.jsx)(me,{primary:"AVAILABLE"===e.status.type,onClick:function(){e.onOpen(!1),e.onSelect("AVAILABLE"===e.status.type)},children:"SELECTED"===e.status.type?"Remove":"Select"}),u&&"FINISHED"===e.status.type&&Object(r.jsx)(me,{primary:!0,disabled:!0,children:"Finished"})]})]})}function Te(e){var t=Object(a.useState)(e.initialVisible),n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("li",{children:[Object(r.jsxs)("button",{className:Ee.a.roundVisibleToggle,onClick:function(){return c(!i)},children:["Round ",e.round," ",i?"\u25b2":"\u25bc"]}),i&&Object(r.jsx)("ul",{className:Ee.a.roundActionList,children:e.actionsWithStatus.map((function(t){return Object(r.jsx)("li",{children:Object(r.jsx)(Ie,Object(o.a)(Object(o.a)({},t),{},{review:e.review,availableCapacity:e.availableCapacity,isOpen:e.openGameActionId===t.gameAction.id,onOpen:function(n){return e.onOpen(n,t.gameAction.id)},onSelect:function(n){return e.onSelect(n,t.gameAction.id)}}))},t.gameAction.id)}))})]})})}function Ne(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),i=n[0],c=n[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Available Actions"}),Object(r.jsxs)("p",{children:["Select one or more actions to take this round.",Object(r.jsx)("br",{}),"Previous rounds actions are still available, click the \u25ba to open the round"]}),Object(r.jsx)("ul",{className:Ee.a.roundList,children:Array(e.currentRound).fill("").map((function(t,n){var a,s=e.currentRound-n;return Object(r.jsx)(Te,{review:!1!==e.ui.review,availableCapacity:e.availableCapacity,onOpen:function(e,t){c(e?t:void 0)},openGameActionId:i,onSelect:function(t,n){return e.dispatch(t?{type:"SELECT_GAME_ACTION",payload:n}:{type:"UNSELECT_GAME_ACTION",payload:n})},initialVisible:s===e.currentRound,round:s,actionsWithStatus:e.availableGameActions.filter((a=s,function(e){return e.gameAction.round===a}))},s)}))})]})}var ke=n(12),Ge=n.n(ke);function Ue(e){return Object(r.jsx)(r.Fragment,{children:(e.types||["capacityChange","userStoryChange","gremlinChange"]).map((function(t){return e.effects.filter((function(e){return void 0!==e[t]})).map((function(n){var a=n[t];return Object(r.jsxs)("li",{className:ue()(a<0&&Ge.a.negative),children:[Object(r.jsx)("span",{className:ue()(!e.showUnit&&Ge.a.cap,a<0&&Ge.a.negativeValue),children:e.showUnit?Object(r.jsx)(xe,{effect:n}):Object(r.jsx)(ve,{value:a})}),e.showUnit?Object(r.jsx)("br",{}):" ",n.title]},n.title)}))}))})}function Le(e){var t=e.capacity.available/e.capacity.total,n=t<.5?"CRITICAL":t<.7?"WARNING":"OK",a=e.activeEffects.filter((function(e){return void 0!==e.capacityChange}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Capacity Breakdown"}),Object(r.jsxs)("ul",{className:Ge.a.status,children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:Ge.a.cap,children:10})," Start Capacity"]}),a.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:Ge.a.title,children:"Active Effects"}),Object(r.jsx)(Ue,{effects:a,types:["capacityChange"],showUnit:!1})]}):null,Object(r.jsxs)("li",{className:Ge.a.capThisRound,children:[Object(r.jsxs)("span",{className:Ge.a.cap,children:[Object(r.jsx)("span",{className:Ge.a.sign,children:"="})," ",e.capacity.total]})," ","Capacity available this round"]}),0!==e.selectedGameActions.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:Ge.a.title,children:"Selected Actions"}),e.selectedGameActions.map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsxs)("span",{className:Ge.a.cap,children:[Object(r.jsx)("span",{className:Ge.a.sign,children:"-"})," ",e.cost]}),e.name]},e.id)}))]}),Object(r.jsx)("li",{className:Ge.a.title,children:"User Stories"}),Object(r.jsxs)("li",{className:ue()("WARNING"===n&&Ge.a.userStoryWarning,"CRITICAL"===n&&Ge.a.userStoryCritical),children:[Object(r.jsxs)("span",{className:Ge.a.cap,children:[Object(r.jsx)("span",{className:Ge.a.sign,children:"-"})," ",e.capacity.available]})," ","spent on User Stories"]}),Object(r.jsxs)("li",{className:Ge.a.title,children:["WARNING"===n&&Object(r.jsx)(r.Fragment,{children:'\ud83e\uddd1\u200d\ud83d\udcbc: "feature work needs more priority"'}),"CRITICAL"===n&&Object(r.jsx)(r.Fragment,{children:'\ud83e\uddd1\u200d\ud83d\udcbc: "not enough time spent on feature work"'})]})]})]})}var De=n(157),Me=n.n(De);function Ve(e){return Object(r.jsxs)("div",{className:Me.a.header,children:[Object(r.jsx)("h1",{children:"High-Performance Team Game "}),e.children]})}function Be(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Welcome"}),Object(r.jsxs)("p",{children:["Purpose: To spark a discussion among your real team about\xa0improvements they can make. To that end the game is best played in a single web browser where everyone can see what is happening and discuss the options.",Object(r.jsx)("em",{children:"Eventually each action will link to a blog post or section of our reference library with more material."})]}),Object(r.jsx)("p",{children:"Your team is working on the World\u2019s Smallest Online Bookstore, a site that provides the best results (just a few) for every search, not every result on earth. We\u2019re a vulture capital funded company, so if we don\u2019t deliver, our funding will be cut. My goal is to help you see the effects of choices/tradeoffs on productivity and team cohesion. While some of the benefits of Agile happen at the individual level, there are many things that affect the relationships between team members, and therefore the overall cohesion and productivity of the team."}),Object(r.jsx)("h2",{children:"Rules"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Rounds represent 6 weeks or 3 Sprints in the life of your team. This has no effect on game play, the length was selected because most improvements take a more than 2 weeks to take root."}),Object(r.jsx)("li",{children:"The game lasts 10 rounds or 30 weeks"}),Object(r.jsx)("li",{children:"Your team starts with a Capacity of 10 pontsi"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"This Capacity can be spent on User Stories"}),Object(r.jsx)("li",{children:"This Capacity can also be spent on Improvements (aka Actions). These improvements cost the team Capacity this round and may provide benefit in future rounds."})]}),Object(r.jsx)("li",{children:"Teams that fail to improve both Communications and Engineering Practice will eventually be penalized."}),Object(r.jsx)("li",{children:"Failure to invest in things that aid your resilience will harm your team later rounds."}),Object(r.jsx)("li",{children:"If you play well your team's capacity will increase round by round"})]}),Object(r.jsx)("h2",{children:"Rounds"}),Object(r.jsx)("p",{children:"Each round consists of a series of steps:"}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["You get a round description.",Object(r.jsx)("br",{}),"\xa0\xa0\xa0",Object(r.jsx)("b",{children:"Click Start Round"})]}),Object(r.jsxs)("li",{children:["Select Improvements or Actions that will affect the team. Once selected the actions cost will be taken away from the teams Capacity",Object(r.jsx)("br",{}),"\xa0\xa0\xa0",Object(r.jsx)("b",{children:"Click Complete Round"})]}),Object(r.jsxs)("li",{children:["The Game tells you how much capacity there is to spend on User Stories.",Object(r.jsx)("br",{}),"\xa0\xa0\xa0",Object(r.jsx)("b",{children:"Click Roll for User Stories"})]}),Object(r.jsxs)("li",{children:["The rolls a die for each User Story to determine how many are actually completed.",Object(r.jsx)("br",{}),"\xa0\xa0\xa0",Object(r.jsx)("b",{children:"Click Next Round"})]}),Object(r.jsx)("li",{children:'At the end of each round the game also checks to see if your team was affected by a Gremlin - example - "Manager yells at a team member"'})]}),Object(r.jsx)("p",{children:"Notice each round your Capacity increases or decreases depending on the improvements you have made and the gremlins that affect you. After round 1 the game displays the active effects of Improvements that were previously made."}),Object(r.jsx)("p",{children:"Hint play the game as often as you want. So if you want to run experiments to see what works go for it."})]})}var Fe=n(158),Pe=n.n(Fe);function We(e){var t=e.className,n=Object(oe.a)(e,["className"]);return Object(r.jsx)("div",Object(o.a)({className:ue()(t,Pe.a.content)},n))}var Qe=n(95),He=n.n(Qe);function Ke(e){var t=e.className,n=e.review,a=e.children,i=e.onClose,c=Object(oe.a)(e,["className","review","children","onClose"]);return Object(r.jsxs)("div",Object(o.a)(Object(o.a)({className:ue()(t,n&&He.a.review)},c),{},{children:[n&&Object(r.jsxs)("div",{className:He.a.reviewHint,children:["Review ",Object(r.jsx)("button",{onClick:i,children:"\u2573"})]}),a]}))}var qe=n(64),Je=n.n(qe);function Ye(e){var t=[].concat(Object(u.a)(e.state.pastRounds),[e.state.currentRound]),n=[],a=Object(o.a)(Object(o.a)({},t[0]),{},{actions:[]});return n.push(a),e.state.log.forEach((function(e){"NEXT_ROUND"===e.type?n.length<8&&(a=Object(o.a)(Object(o.a)({},t[n.length]),{},{actions:[]}),n.push(a)):a.actions.push(e)})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Game Log"}),Object(r.jsx)("ol",{className:Je.a.roundList,children:n.map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsxs)("h3",{children:["Round ",e.number]}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Total Capacity: ",e.capacity.total]}),Object(r.jsxs)("li",{children:["User Stories Attempted: ",e.capacity.available]}),Object(r.jsxs)("li",{children:["Chance of completing User Stories: ",e.userStoryChance]}),void 0!==e.storiesCompleted&&Object(r.jsxs)("li",{children:["User Stories Completed: ",e.storiesCompleted]})]}),Object(r.jsx)(Ae,{gremlin:e.gremlin,children:e.description}),e.activeEffects.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{children:"Active Effects"}),Object(r.jsx)("ul",{children:Object(r.jsx)(Ue,{effects:e.activeEffects,showUnit:!0})})]}):null,e.actions.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{children:"Actions Taken"}),Object(r.jsx)("ul",{className:Je.a.actionList,children:e.actions.map((function(t,n){var a=D(t.payload);return e.actions.slice(0,n).map((function(e){return e.payload})).includes(t.payload)?Object(r.jsxs)("li",{children:["UNSELECT_GAME_ACTION"===t.type&&Object(r.jsxs)(r.Fragment,{children:["Un-Selected: ",Object(r.jsx)("del",{children:a.name})]}),"SELECT_GAME_ACTION"===t.type&&Object(r.jsxs)(r.Fragment,{children:["Re-Selected: ",Object(r.jsx)("ins",{children:a.name})]})]},n):Object(r.jsxs)("li",{children:[Object(r.jsx)(we,{gameAction:a,className:Je.a.actionImage}),Object(r.jsxs)("h5",{children:["Selected: (Cost: ",a.cost,")"," ",a.name]}),a.description]},n)}))})]}):null]},e.number)}))}),Object(r.jsx)(je,{state:e.state})]})}var Ze=n(65),Xe=n.n(Ze);function ze(e){return Object(r.jsx)("div",{className:Xe.a.tabs,children:e.children})}function $e(e){var t=e.active,n=e.className,a=Object(oe.a)(e,["active","className"]);return Object(r.jsx)("button",Object(o.a)({className:ue()(Xe.a.tab,n,t&&Xe.a.tabActive)},a))}var et=n(96),tt=n.n(et);function nt(e){var t=e.className,n=Object(oe.a)(e,["className"]);return Object(r.jsx)("div",Object(o.a)({className:ue()(t,tt.a.rows)},n))}function rt(e){var t=e.className,n=Object(oe.a)(e,["className"]);return Object(r.jsx)("div",Object(o.a)({className:ue()(t,tt.a.row)},n))}function at(e){var t=z(e.initialState),n=Object(l.a)(t,4),i=n[0],c=n[1],s=n[2],u=n[3],d=Object(a.useState)(e.initialState===W?"rules":"play"),h=Object(l.a)(d,2),m=h[0],j=h[1];return Object(r.jsxs)(Ke,{review:!1!==i.ui.review,onClose:function(){return c({type:"SET_UI_REVIEW_ACTION",payload:!1})},children:[Object(r.jsx)(Ve,{children:Object(r.jsxs)(ze,{children:[Object(r.jsx)($e,{active:!1,onClick:E(c),style:{maxWidth:"2rem"},title:"Restart Game",children:"\u21a9"}),Object(r.jsx)($e,{active:"play"===m,onClick:function(){return j("play")},children:"Play"}),Object(r.jsx)($e,{active:"rules"===m,onClick:function(){return j("rules")},children:"Rules"}),Object(r.jsx)($e,{active:"log"===m,onClick:function(){return j("log")},children:"Log"})]})}),Object(r.jsxs)(We,{children:[Object(r.jsx)("div",{style:{display:"play"===m?"block":"none"},children:!1===i.ui.review&&i.currentRound.number>8?Object(r.jsx)(je,{state:i,dispatch:c}):Object(r.jsx)(fe,{ui:i.ui,currentRound:i.currentRound,welcome:Object(r.jsx)(Re,{review:i.ui.review,dispatch:c,gremlin:i.currentRound.gremlin,children:i.currentRound.description}),actions:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(me,{onClick:function(){return c({type:"SET_UI_VIEW_ACTION",payload:"welcome"})},children:"\u25c0 Back"}),Object(r.jsx)(me,{primary:!0,onClick:function(){return c({type:"SET_UI_VIEW_ACTION",payload:"results"})},children:!1===i.ui.review?"Complete Round":"Show User Stories"}),i.currentRound.gremlin&&Object(r.jsxs)("p",{children:["\u26a0\ufe0f Gremlin just happened:\xa0",Object(r.jsx)("strong",{children:i.currentRound.gremlin.name})]}),Object(r.jsxs)(nt,{children:[Object(r.jsx)(rt,{children:Object(r.jsx)(Ne,{ui:i.ui,currentRound:i.currentRound.number,availableCapacity:i.currentRound.capacity.available,availableGameActions:i.availableGameActions,dispatch:c})}),Object(r.jsx)(rt,{children:Object(r.jsx)(Le,Object(o.a)({},i.currentRound))})]})]}),results:Object(r.jsx)(Oe,{ui:i.ui,pastRounds:i.pastRounds,currentRound:i.currentRound,dispatch:c,closeRound:s,rollGremlin:u})},i.currentRound.number)}),"rules"===m&&Object(r.jsx)(Be,{}),"log"===m&&Object(r.jsx)(Ye,{state:i})]})]})}function it(e){var t=R(),n=Object(a.useState)(e.initialState),i=Object(l.a)(n,2),c=i[0],s=i[1];return t?c.restored?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ve,{children:Object(r.jsx)("br",{})}),Object(r.jsxs)(We,{style:{textAlign:"center"},children:[Object(r.jsx)("br",{}),Object(r.jsx)("h2",{children:"Do you want to load the game encoded in the link?"}),Object(r.jsx)("p",{children:"This will overwrite any currently running game"}),c.status!==v?Object(r.jsx)("p",{children:"\u26a0\ufe0f The saved game to be restored might not work as expected because the game has been updated since then"}):null,Object(r.jsx)(me,{onClick:function(){window.location.href=window.location.href.split("?")[0]},children:"Continue to my previous game"}),Object(r.jsxs)(me,{onClick:function(){C(c.state,t),window.location.href=window.location.href.split("?")[0]},primary:!0,children:["Restore Game from ",c.restored.toLocaleString()]})]})]}):c.status===v?Object(r.jsx)(at,{initialState:c.state}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ve,{children:Object(r.jsx)("br",{})}),Object(r.jsxs)(We,{style:{textAlign:"center"},children:[Object(r.jsx)("br",{}),Object(r.jsx)("h2",{children:"The game has been updated."}),Object(r.jsx)("h4",{children:"Your currently saved game might not work as expected"}),Object(r.jsx)(me,{onClick:function(){return s({state:c.state,status:v})},children:"Continue anyways"}),Object(r.jsx)(me,{onClick:function(){return s({state:W,status:v})},primary:!0,children:"Restart Game"})]})]}):null}(function(){return A.apply(this,arguments)})().then((function(e){s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(it,{initialState:e})}),document.getElementById("root"))}))},64:function(e,t,n){e.exports={actionList:"Log_actionList__14U9B",actionImage:"Log_actionImage__14QTL",roundList:"Log_roundList__15EiA"}},65:function(e,t,n){e.exports={tabs:"Tabs_tabs__33r_k",tab:"Tabs_tab__1XZ6E",tabActive:"Tabs_tabActive__s9p5d"}},94:function(e,t,n){e.exports={button:"Button_button__2Ce79",primary:"Button_primary__10Br9"}},95:function(e,t,n){e.exports={review:"Container_review__pTzdo",reviewHint:"Container_reviewHint__3-chd"}},96:function(e,t,n){e.exports={rows:"Rows_rows__1Jspy",row:"Rows_row__2ql-8"}}},[[376,1,2]]]);
//# sourceMappingURL=main.eef365f6.chunk.js.map