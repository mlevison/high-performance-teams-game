{"version":3,"sources":["components/Status.module.css","components/Actions/Actions.module.css","components/Round.module.css","components/Tabs.module.css","components/Button.module.css","components/Header.module.css","components/Content.module.css","state/effects/types.ts","state/gameActions/images/example.jpg","state/gameActions/gameActions.ts","state/gameActions/getAvailableGameActions.ts","state/gameActions/findGameActionById.ts","state/gameActions/types.ts","state/effects/effects.ts","state/effects/helpers.ts","state/roundDescriptions/roundDescriptions.tsx","state/roundDescriptions/index.ts","lib/rollDice.ts","lib/storySucceeds.ts","lib/byProp.ts","state/gremlins.tsx","state/game.ts","state/roundDescriptions/getRoundDescriptionEffects.ts","state/round.ts","state/gameActions/getEffect.ts","state/gameActions/getCost.ts","state/useAppState.ts","components/Results.tsx","components/Button.tsx","components/Round.tsx","constants.ts","components/Actions/Action.tsx","components/Actions/RoundActions.tsx","components/Actions/Overlay.tsx","components/Actions/Actions.tsx","components/Status.tsx","components/Header.tsx","components/Rules.tsx","components/Content.tsx","components/Tabs.tsx","App.tsx","index.tsx"],"names":["module","exports","EFFECT_HIDDEN","Symbol","hasNoEffect","gameActionList","GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION","image","name","available","round","description","cost","effect","GAME_ACTION_REMOTE_TEAM_AVATARS","icon","capacity","GAME_ACTION_WORKING_AGREEMENTS","example","GAME_ACTION_BUILD_SERVER","type","GAME_ACTION_TEAMS_ON_SAME_FLOOR","age","title","this","GAME_ACTION_ELIMINATE_LONG_LIVED_FEATURE_BRANCHES","GAME_ACTION_UNIT_TESTING","requires","GAME_ACTION_SOCIAL_TIME","GAME_ACTION_FIRE_FIGHTER_AWARD","GAME_ACTION_OBSERVE_PEOPLE_AND_RELATIONSHIPS","GAME_ACTION_ONE_ON_ONES","GAME_ACTION_PAIR_PROGRAMMING","GAME_ACTION_TEST_DRIVEN_DEVELOPMENT","GAME_ACTION_INFORMAL_CROSS_TRAINING","GAME_ACTION_FORMAL_CROSS_TRAINING","gameActions","Object","entries","map","id","action","UNIQUE","getAvailableGameActions","currentRound","finishedActionIds","selectedGameActionIds","gameAction","req","unmetDependencies","Array","isArray","filter","includes","length","status","times","unique","e","findGameActionById","gameActionId","find","isGameActionWithIcon","getOwnPropertyNames","gameEffectList","rounds","roundsWithoutEngAction","isEffect","isVisibleEffect","roundDescriptions","1","2","3","4","5","startCapacity","rollDice","Math","floor","random","storySucceeds","sumByProp","objects","key","sum","forEach","obj","concatByProp","all","push","isGremlinId","thing","getGremlinRolls","gremlinRoll","gremlinList","rollGremlin","INITIAL_STATE","pastRounds","getRoundEffects","roundAmounts","roundDescriptionEffects","i","desc","previousRounds","slice","getRoundDescriptionEffects","allActionIds","actionEffects","reduce","allEffects","previousGremlinRolls","roundEffects","pastGremlinRolls","getActionEffect","concat","gremlinId","getGremlinEffect","getEffects","gameEffects","gameEffect","getCapacity","effects","gameReducer","state","payload","getCosts","useAppState","useReducer","dispatch","roundCapacity","visibleEffects","capacityAvailable","currentRoundNumber","availableGameActions","selectedGameActions","gremlin","lastRounds","lastRound","pop","pastRolls","getGremlin","number","total","activeEffects","result","storiesCompleted","storiesAttempted","fill","closeRound","Results","props","Button","primary","className","rest","cx","styles","button","Actions","useState","showDescription","setShowDescription","onClick","onNext","children","Round","view","setView","closedRound","setClosedRound","center","ref","overlayRef","rows","row","row1","row2","userStoryIcons","_","userStoryDescription","disabled","Error","Action","useRef","clickTimer","current","clearTimeout","setTimeout","onDoubleClick","actionSelected","actionImage","style","backgroundImage","actionIcon","RoundActions","initialVisible","visible","setVisible","roundVisibleToggle","roundActionList","actionsWithStatus","actionWithStatus","ev","onOpen","onSelect","Overlay","referenceElement","onClose","useEffect","handler","target","contains","window","addEventListener","removeEventListener","popperElement","setPopperElement","arrowElement","setArrowElement","popper","usePopper","placement","modifiers","options","fallbackPlacements","element","data-popper-placement","overlay","attributes","arrow","overlayInner","closeOverlay","overlayTitle","toggle","selectedActionId","setSelectedAction","setReferenceElement","selectedAction","roundList","elm","actionId","actionWithState","undefined","Status","percentOnUserStories","userStoryStatus","cap","sign","String","replace","capThisRound","userStoryWarning","userStoryCritical","Header","header","Rules","Content","content","Tabs","tabs","Tab","active","tab","tabActive","App","setTab","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb4b9922.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cap\":\"Status_cap__gr-F0\",\"sign\":\"Status_sign__2-nEE\",\"status\":\"Status_status__1LWe8\",\"title\":\"Status_title__d3A6m\",\"capThisRound\":\"Status_capThisRound__Pelkl\",\"userStoryWarning\":\"Status_userStoryWarning__1BBoS\",\"userStoryCritical\":\"Status_userStoryCritical__-kvV5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roundList\":\"Actions_roundList__1eXTE\",\"roundVisibleToggle\":\"Actions_roundVisibleToggle__1R4cj\",\"roundActionList\":\"Actions_roundActionList__3KY_i\",\"action\":\"Actions_action__2Me2d\",\"actionImage\":\"Actions_actionImage__BHeO6\",\"actionIcon\":\"Actions_actionIcon__3AhOt\",\"actionSelected\":\"Actions_actionSelected__1b36j\",\"arrow\":\"Actions_arrow__QUeg2\",\"overlay\":\"Actions_overlay__1oAsV\",\"overlayInner\":\"Actions_overlayInner__chZ-k\",\"closeOverlay\":\"Actions_closeOverlay___0tEl\",\"overlayTitle\":\"Actions_overlayTitle__2w_bm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"number\":\"Round_number__37fTP\",\"title\":\"Round_title__1HpVm\",\"description\":\"Round_description__3f1zj\",\"center\":\"Round_center__3U3MJ\",\"rows\":\"Round_rows__1AIUt\",\"row\":\"Round_row__2qnAP\",\"userStoryIcons\":\"Round_userStoryIcons__mYpKQ\",\"userStoryDescription\":\"Round_userStoryDescription__Sgm0s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__33r_k\",\"tab\":\"Tabs_tab__1XZ6E\",\"tabActive\":\"Tabs_tabActive__s9p5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Ce79\",\"primary\":\"Button_primary__10Br9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__mFJ5h\"};","import { Round } from '../round';\nexport const EFFECT_HIDDEN = Symbol('EFFECT_HIDDEN');\n\nexport type VisibleEffect = {\n  capacity: number;\n  title: string;\n  description?: string;\n};\nexport type Effect =\n  | VisibleEffect\n  | {\n      capacity: number;\n      title: typeof EFFECT_HIDDEN;\n    };\n\nexport type GameEffect = (rounds: Round[]) => Effect | null;\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gNjUK/9sAQwALCAgKCAcLCgkKDQwLDREcEhEPDxEiGRoUHCkkKyooJCcnLTJANy0wPTAnJzhMOT1DRUhJSCs2T1VORlRAR0hF/9sAQwEMDQ0RDxEhEhIhRS4nLkVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVF/8AAEQgAZQBkAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8AyoJvtBIU5qje3PlsY27Vq6HZbjWZ4ktHhuSNuAe9ckdTomuUzoZF+boc1PbAbjzx6VRt42BGKuhlA2jh6qRCJmiUvkNg0SW5EeVYZPaqfmOsh38rUgdpht2/MxwKVmBTuUYRlWILelUcZj4B3ZrcXSibtVnbAPWnGG0t7lo85VatTsKxjR+ZEOQRzxVq0uTBcrITyD0rRMtsSAw+bNWZbKymZRDyx9O1S5d0O3Y67SdQFzaqTw2OlW5Z9veuLtpm0mdULmQngIoyfyrfhvPtS/NG8bf3XGDXDOhEio5WujQ+0Z70VWAOKKj2MQTdih4fkC3GCa1NcsEuxuCjpXO2twlvIGyBzWw2upJFsUZau2KdrG1ScW7pnL3mmNbSZA4qpFbPcXKxxIS7HAHvXQ3Ukk5yEyKzQxguFdfldTnrirVzHnRUvtKv7Y/6sSDuIzkr+FZwvGikUkYIPp0rtHuVuIfNdCGXg4/nWXerZ3kbiXBbHEmPmU/1qFOztJGvKmroyNQ1F7hQcbJE647isxpXDsWPzZxRHHIZkVs7WIBNJcgPJ8oxkcCt0ktDNigkuG3YBbBPpVtZ54Zfs1qCZHOMjqSaqGNhbxjGCzjHvxV3STJFqAkwWcoQD6E9/wCdKTVrgk72N2zt00+IvM26b/lpIT/46Par+mXXnpI/YtgVkXxmVPLyACOueal0vdbNawhWzMxJB68CuW19WbT+BpHTK/FFM6cUUro5FGVjKg0K4kOSDVtdJktx92u4kNvbqVGMisya8gyc4rq5EjVSZzhjmCkLH+lYtzpd28+8qcV2LapZocErTW1SxZeq0rIDEgh22v7zjAww9aZNY2v2XG4gHuetaV08U9pMYACwGRg4rnPNbysNkc9M5rGpoa09TNuoFhuYBG2Bkk8VQuMOUAIAPBJHf1q/qJK3MEhXKrnJ9qzQQzRh+in+Vaw2TJluJEzC9hSTJWE4HpXVWEttHHuKKHbrgVy1kW805HDnK5rUE6xnGfbAPSorJtl07G691ZIQFAdj1z3qK0nEmprIw4GR9KxLiVEQtkKfc9aXSpZJr2II+47ugHAFQotq45NLQ7N2G7jAopGQ56ZorOxStYh0661DWb3ylVmY/wAI7fWulk8FXcyZ+0IrHqDk12a28KPvSJFb+8FGakr0VDucZ5tL8Or+Rji7iHvg1lax4E1XTbVp0K3KJyyx9QPpXr1BAIwRkUciHdnkHhB1nYpIGwRjBrL8SWz6Vd+Q2SjnMcnJ49MV7Fc6baD50hRH9VGK4zxdozX9sTFxLH8yH3rGcbblwbPOJXgKxwvcZdJOGfPPYg0yPSpZbmSHBC8gE0/+yJ9QuHEsbwSqfm+XIJ9a6DR4JmVZZ4nDqNpyOTjjP8qlvl2KSvuYU1skBhnYhI4/lA7s1ZweOQO8bSNOSTjoDWvrcTS3UNnymWLbscD0qhcaVcaccojO7DAYDpn2pwatq9Qle5BaRG8ZpbubCrwRXXeF9JgmuGuoctGg2g44zWdofh5ryFYp28uNjl+OTXpGnafBYWaQW4wijjNTJ3egbIoGy56UVsFBmilYLmAniy/jwNlyPquam/4TS+Xqs3/fr/61Z/8AbE4bHyH6qKkGsyjgxxn/AIDV8zFylv8A4Ta+PRJvwh/+tUTeMb9zgpdfhGR/SmprTA48iMnHpTv7dJGTbxilzMOU3bHXoRYedcF1k7iTrWTqetwzpL5LfMh6Zqq+rLKhV7dT75qm720m4iEL2yCKTdxpWIYtVi3ux/hPNSSavBGCwPysAQRVV7SEsdrYz/s1B9gjB4lPI/u//XqdS01cngvIbh3kZQRkbSwpmoX6ogSIZc9T6U1LRYx98LnuBTDYAnPmEn0xSsym1fQSw1JhMAoOB94mut0/UDJbqX61zMFtDGcls49BWjFcQoqqjN+VCTREtUdD9qzRWL/acAA++fcA0UxGLuOCAcZ6U4N9fSox8xwOlAznGaYyQvg4/IilDN3OR069agAORx+PpTiSKQExOeOPpinBuNvQdcVBk43HJ9c0hAU4zQBL5vvkdM5pm45HABx3xTMbfmAPB4OKaSu7nk/TmgCR3AQZB57ZpEl54IHXBPr/AI1EWIY7WJBpOC23GO2AMCgCYOAMnnj1703zdwLFiSBnioWYcHkHPXNIW2EHIBTrQA93GfmBJx2OKKj3DJwOPY0UgLI+7TwmDg80UUxilQCWA6AcUpAVd2B9KKKBEZbChgMZ9KQjbgdc8k0UUADgjgsxyB1PTnFI6gAHucjmiigCIDp6/wAqTkhBnjOB/jRRQAhHmKG6ZbH6VGc5Xcc5H07UUUANDlhxgAcdKKKKYH//2Q==\"","import { GameActionList, GameAction } from './types';\nimport example from './images/example.jpg';\n\nexport function hasNoEffect() {\n  return null;\n}\n\nexport type GameActionId =\n  | 'GAME_ACTION_BUILD_SERVER'\n  | 'GAME_ACTION_REMOTE_TEAM_AVATARS'\n  | 'GAME_ACTION_TEAMS_ON_SAME_FLOOR'\n  | 'GAME_ACTION_UNIT_TESTING'\n  | 'GAME_ACTION_INFORMAL_CROSS_TRAINING'\n  | 'GAME_ACTION_FORMAL_CROSS_TRAINING'\n  | 'GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION'\n  | 'GAME_ACTION_WORKING_AGREEMENTS'\n  | 'GAME_ACTION_ELIMINATE_LONG_LIVED_FEATURE_BRANCHES'\n  | 'GAME_ACTION_SOCIAL_TIME'\n  | 'GAME_ACTION_FIRE_FIGHTER_AWARD'\n  | 'GAME_ACTION_OBSERVE_PEOPLE_AND_RELATIONSHIPS'\n  | 'GAME_ACTION_ONE_ON_ONES'\n  | 'GAME_ACTION_PAIR_PROGRAMMING'\n  | 'GAME_ACTION_TEST_DRIVEN_DEVELOPMENT';\n\nexport const gameActionList: GameActionList = {\n  GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION: {\n    image: 'https://placekitten.com/100/100',\n    name: 'Protected from Outside Distraction',\n    available: { round: 1 },\n    description:\n      'ScrumMaster protects the team from outside distraction. Example: A manager asking a team member to do them a small favour as it will only take an hour.',\n    cost: 1,\n    effect: hasNoEffect,\n  },\n  GAME_ACTION_REMOTE_TEAM_AVATARS: {\n    icon: 'ðŸ‘‹',\n    name: 'Remote Team Avatars',\n    available: { round: 1 },\n    description:\n      \"Remote Teams suffer from the start, in that team members don't get know about their colleagues easily. To counter this run a short get to know you session. Get team members to share things like - working hours, city they live in, timezone, contact info. If people are open share some personal details such as hobbies, family status, favorite food and beverage. Some teams even create a wiki or site to share this information \",\n    cost: 1,\n    effect: () => ({ capacity: 1 }),\n  },\n  GAME_ACTION_WORKING_AGREEMENTS: {\n    image: example,\n    name: 'Working Agreements',\n    available: { round: 1 },\n    description:\n      'Working Agreements are a simple, powerful way of creating explicit guidelines for what kind of work culture you want for your Team. They are a reminder for everyone about how they can commit to respectful behaviour and communication',\n    cost: 1,\n    effect: () => ({ capacity: 1 }),\n  },\n  GAME_ACTION_BUILD_SERVER: {\n    image: example,\n    type: 'ENGINEERING',\n    name: 'Build Server',\n    available: { round: 1 },\n    description:\n      'Setup Build Server and Continuous Integration. This is required to make future engineering improvements',\n    cost: 2,\n    effect: hasNoEffect,\n  },\n  GAME_ACTION_TEAMS_ON_SAME_FLOOR: {\n    image: example,\n    name: 'Team Members On SameFloor',\n    available: { round: 1 },\n    description:\n      \"Getting Team Members on the same floor reduces the cost of communication as they don't have to go far to ask questions\",\n    cost: 3,\n    /* don't use arrow function in order to have \"this\" bound to action */\n    effect(age) {\n      if (age < 5) {\n        return {\n          capacity: age + 1,\n          title: `${this.name} active since ${age + 1} rounds`,\n        };\n      }\n\n      return {\n        capacity: 5,\n        title: `${this.name} active since 5 or more rounds`,\n      };\n    },\n  },\n  // Round 2 Actions\n  GAME_ACTION_ELIMINATE_LONG_LIVED_FEATURE_BRANCHES: {\n    image: example,\n    type: 'ENGINEERING',\n    name: 'All Work is done on Main or Trunk',\n    available: { round: 2 },\n    description:\n      'When teams use Feature Branches â€“ then theyâ€™re not really using Continuous integration. Feature branching optimizes for the individual while harming the Team',\n    cost: 2,\n    effect: () => ({ capacity: 1 }),\n  },\n  GAME_ACTION_UNIT_TESTING: {\n    image: example,\n    type: 'ENGINEERING',\n    name: 'Unit Testing',\n    available: { round: 2, requires: 'GAME_ACTION_BUILD_SERVER' },\n    description: 'TODO: SOME DESCRIPTION',\n    cost: 2,\n    effect: () => ({ capacity: 2 }),\n  },\n  GAME_ACTION_SOCIAL_TIME: {\n    image: example,\n    // type: 'COMMUNICATION',\n    name: 'Social Time',\n    available: { round: 2 },\n    description:\n      'Setting aside some time during the working day to talk to your peers outside of the work itself.',\n    cost: 1,\n    effect: () => ({\n      capacity: 1,\n      title:\n        'This benefits the team, as team members get to know each other not just as doers of work.',\n    }),\n  },\n  GAME_ACTION_FIRE_FIGHTER_AWARD: {\n    image: example,\n    name: 'Fire Fighter Award',\n    available: { round: 2 },\n    description:\n      'Offer a firefighter award to any team member who solves big problem',\n    cost: 1,\n    effect: () => ({\n      capacity: -1,\n      title:\n        'Promoting a firefighter culture promotes individual behavior and, surprisingly, the starting of fires.',\n    }),\n  },\n\n  // Round 3\n  GAME_ACTION_OBSERVE_PEOPLE_AND_RELATIONSHIPS: {\n    image: example,\n    // type: 'COMMUNICATION',\n    name: 'Observe People + Relationships',\n    available: { round: 3 },\n    description:\n      'ScrumMaster spends time observing people, how they interact, and the quality of their relationship.',\n    cost: 1,\n    effect: () => ({\n      capacity: 1,\n      title: 'Watching the Team tells you where to put your coaching energy.',\n    }),\n  },\n  GAME_ACTION_ONE_ON_ONES: {\n    image: example,\n    // type: 'COMMUNICATION',\n    name: 'One on One',\n    available: { round: 3 },\n    description:\n      'ScrumMaster meets with all team members for a regular one-on-one. Once â€˜Gremlinsâ€™ start to popup, this action mitigates the worst of the effects, because you already have a deeper understanding of team member needs.',\n    cost: 1,\n    effect: hasNoEffect,\n  },\n  GAME_ACTION_PAIR_PROGRAMMING: {\n    image: example,\n    type: 'ENGINEERING',\n    name: 'Pair Programming',\n    available: { round: 3 },\n    description: 'Two team members â€“ one computer',\n    cost: 2,\n    effect: () => ({\n      capacity: 2,\n      title:\n        'Team Members working in pairs have a lower defect rate, simpler code and learn from each other.',\n    }),\n  },\n  GAME_ACTION_TEST_DRIVEN_DEVELOPMENT: {\n    image: example,\n    type: 'ENGINEERING',\n    name: 'Test Driven Development',\n    available: { round: 3, requires: 'GAME_ACTION_BUILD_SERVER' },\n    description: 'Writing Unit level Tests before writing the code',\n    cost: 2,\n    effect: () => ({\n      capacity: 2,\n      title:\n        'By writing the tests before the code â€“ the Developer is forced to consider the simplest solution to their problem. Result: Less code; simpler design and fewer defects',\n    }),\n  },\n  GAME_ACTION_INFORMAL_CROSS_TRAINING: {\n    image: example,\n    name: 'Informal Cross Training',\n    available: { round: 4 },\n    description:\n      'Informal cross-training for existing team members in an area the team is weak. (Testing anyone?)',\n    cost: 1,\n    effect: () => ({\n      capacity: 1,\n    }),\n  },\n  GAME_ACTION_FORMAL_CROSS_TRAINING: {\n    image: example,\n    name: 'Formal Cross-Training',\n    available: { round: 4 },\n    description:\n      'Formal cross-training for existing team members in an area the team is weak. (Testing anyone?)',\n    cost: 3,\n    effect: () => ({\n      capacity: 3,\n    }),\n  },\n};\n\nexport const gameActions: GameAction[] = Object.entries(\n  gameActionList,\n).map(([id, action]) => ({ ...action, id: id as GameActionId }));\n","import { GameAction } from './types';\nimport { GameActionId, gameActions } from './gameActions';\n\nexport const UNIQUE = Symbol('UNIQUE');\n\ntype Times = typeof UNIQUE | number;\ntype GameActionStatus =\n  | { type: 'MISSING_DEP'; unmetDependencies: GameActionId[] }\n  | { type: 'AVAILABLE'; times: Times }\n  | { type: 'SELECTED'; times: Times }\n  | { type: 'FINISHED' };\n\nfunction normalizeRequires(\n  req: GameAction['available']['requires'],\n): GameActionId[] {\n  if (!req) {\n    return [];\n  }\n  if (!Array.isArray(req)) {\n    return [req];\n  }\n  return req;\n}\n\nexport type GameActionWithStatus = {\n  gameAction: GameAction;\n  status: GameActionStatus;\n};\n\nexport function getAvailableGameActions(\n  currentRound: number,\n  finishedActionIds: GameActionId[],\n  selectedGameActionIds: GameActionId[],\n): GameActionWithStatus[] {\n  return gameActions\n    .map((gameAction): GameActionWithStatus | null => {\n      if (currentRound < gameAction.available.round) {\n        return null;\n      }\n\n      const dependencies = normalizeRequires(gameAction.available.requires);\n      const unmetDependencies = dependencies.filter(\n        (id) => !finishedActionIds.includes(id),\n      );\n\n      if (unmetDependencies.length) {\n        return {\n          gameAction,\n          status: { type: 'MISSING_DEP', unmetDependencies },\n        };\n      }\n\n      const times =\n        gameAction.available.unique === false\n          ? selectedGameActionIds.filter((id) => id === gameAction.id).length\n          : UNIQUE;\n\n      if (times === UNIQUE && finishedActionIds.includes(gameAction.id)) {\n        return {\n          gameAction,\n          status: { type: 'FINISHED' },\n        };\n      }\n\n      return {\n        gameAction,\n        status: selectedGameActionIds.includes(gameAction.id)\n          ? { type: 'SELECTED', times }\n          : { type: 'AVAILABLE', times },\n      };\n    })\n    .filter((e): e is GameActionWithStatus => e !== null);\n}\n","import { GameAction } from './types';\nimport { GameActionId, gameActions } from './gameActions';\n\nexport function findGameActionById(gameActionId: GameActionId): GameAction {\n  return gameActions.find((gameAction) => gameActionId === gameAction.id)!;\n}\n","import { Effect } from '../effects';\nimport { GameActionId } from './gameActions';\n\ntype EffectWithOptionalTitle = Omit<Effect, 'title'> & {\n  title?: Effect['title'];\n};\nexport type AvailabilityCheck = (\n  currentRound: number,\n  finishedActionIds: GameActionId[],\n  selectedGameActionIds: GameActionId[],\n  id: GameActionId,\n) => boolean;\ntype Image = {\n  /**\n   * An image url\n   * can be externally hosted image\n   * `https://example.org/my.png`\n   * or relative file:\n   * `import imageUrl from './my.png';\n   */\n  image: string;\n};\nexport function isGameActionWithImage(\n  action: GameAction,\n): action is GameActionWithId & Image {\n  return Object.getOwnPropertyNames(action).includes('image');\n}\ntype Icon = {\n  /**\n   * Unicode Character to be displayed instead of image\n   * can be emoji or any other char\n   */\n  icon: string;\n};\nexport function isGameActionWithIcon(\n  action: GameAction,\n): action is GameActionWithId & Icon {\n  return Object.getOwnPropertyNames(action).includes('icon');\n}\ntype ImageOrIcon = Image | Icon;\n\ntype GameActionImplementation = {\n  type?: 'ENGINEERING';\n  available: {\n    round: number;\n    requires?: GameActionId[] | GameActionId;\n    unique?: false;\n  };\n  effect: (\n    age: number,\n    finishedActionIds: GameActionId[],\n  ) => EffectWithOptionalTitle | null;\n  name: string;\n  description: string;\n  cost: number;\n};\ntype GameActionWithId = GameActionImplementation & { id: GameActionId };\n\nexport type GameActionList = {\n  [K in GameActionId]: ImageOrIcon & GameActionImplementation;\n};\n\nexport type GameAction = ImageOrIcon & GameActionWithId;\n","import { findGameActionById } from '../gameActions';\nimport { GameEffect } from './types';\n\nexport const gameEffectList: GameEffect[] = [\n  function technicalDebtDrag(rounds) {\n    let roundsWithoutEngAction = 0;\n\n    for (const round of rounds) {\n      const roundsGameActions = round.selectedGameActionIds.map(\n        findGameActionById,\n      );\n      const engineeringAction = roundsGameActions.find(\n        ({ type }) => type === 'ENGINEERING',\n      );\n\n      if (engineeringAction) {\n        break;\n      }\n\n      roundsWithoutEngAction += 1;\n    }\n\n    if (roundsWithoutEngAction === 0) {\n      return null;\n    }\n\n    return {\n      capacity: -roundsWithoutEngAction,\n      title: 'TODO: TechnicalDebt Drag Effect Title',\n      description: `No Engineering improvement for ${roundsWithoutEngAction} round${\n        roundsWithoutEngAction > 1 ? 's' : ''\n      }`,\n    };\n  },\n];\n","import { Effect, EFFECT_HIDDEN, VisibleEffect } from './types';\n\nexport function isEffect(e: Effect | null): e is Effect {\n  return e !== null;\n}\n\nexport function isVisibleEffect(e: Effect): e is VisibleEffect {\n  return e.title !== EFFECT_HIDDEN;\n}\n","import React, { ReactElement } from 'react';\nimport { Effect, EFFECT_HIDDEN } from '../effects';\nimport { ClosedRound } from '../round';\n\nexport type RoundDescription = {\n  description: ReactElement;\n  title: string;\n  effect?: (previousRounds: ClosedRound[]) => Effect | null;\n};\n\n/* Rounds are 1-indexed - 1 is the first round */\nexport const roundDescriptions: { [key: string]: RoundDescription } = {\n  1: {\n    title: 'Team, welcome to the Worldâ€™s Smallest Online Bookstore',\n    description: (\n      <p>\n        We hired you because youâ€™re the best individuals in your respective\n        areas. Please remember that weâ€™re Vulture Capital funded and we have\n        only a few months runway, so you must deliver. This first Sprint, the\n        company really needs you to prove that you can deliver a working â€¦\n      </p>\n    ),\n    effect: () => ({ capacity: 10, title: EFFECT_HIDDEN }),\n  },\n  2: {\n    title: 'Failed Expectations',\n    description: (<p>\n        Your team didn't met our expectations that you would complete 10 User Stories in the last round. Our vulture capitalists are becoming concerned and ask if you can really deliver?\n    </p>\n    )\n  },\n  3: {\n    title: 'Work Harder',\n    description: (<p>\n        Things are slowly improving. You are getting better. *Please* work harder in the next Sprint.\n    </p>\n    )\n  },\n  4: {\n    title:\n      'Go Live Soon',\n    description: (\n      <p>\n        We must go live with an early version of the product this round, for a tradeshow. Due to your limited productivity in past rounds, management are prepared to offer some options to help you out. We will provide an extra â€˜4â€™ points of capacity for anything that helps. Another team member? Overtime?\n      </p>\n    ),\n    effect: () => ({\n      capacity: 4,\n      title: 'Management is paying overtime',\n    }),\n  },\n  5: {\n    title: 'We\\'re live and we have real Customers',\n    description: (<p>\n        Congratulations our product is live in the market. People are using it and they're finding bugs. We will have to do deal with those bugs this Sprint.\n    </p>\n    )\n  },\n};\n","import { roundDescriptions } from './roundDescriptions';\nexport { getRoundDescriptionEffects } from './getRoundDescriptionEffects';\n\nconst startCapacity = roundDescriptions['1']?.effect?.([])?.capacity || 0;\n\nexport { startCapacity, roundDescriptions };\n","export function rollDice() {\n  return 1 + Math.floor(Math.random() * 6);\n}\n","import { rollDice } from './rollDice';\n\nexport function storySucceeds() {\n  return rollDice() >= 3;\n}\n","type NonUndefined<A> = A extends undefined ? never : A;\ntype NumberKeys<T extends object> = {\n  [K in keyof T]-?: NonUndefined<T[K]> extends number ? K : never;\n}[keyof T];\ntype ArrayKeys<T extends object> = {\n  [K in keyof T]-?: NonUndefined<T[K]> extends any[] ? K : never;\n}[keyof T];\n\nexport function sumByProp<T extends object>(\n  objects: T[],\n  key: NumberKeys<T>,\n): number {\n  let sum = 0;\n  objects.forEach((obj) => {\n    sum += (obj as any)[key];\n  });\n  return sum;\n}\n\nexport function concatByProp<T extends object, K extends ArrayKeys<T>>(\n  objects: T[],\n  key: K,\n): T[K] {\n  const all: any = [];\n  objects.forEach((obj) => {\n    all.push(...obj[key]);\n  });\n  return all;\n}\n","import { rollDice } from 'lib/rollDice';\nimport React, { ReactElement } from 'react';\nimport { Effect } from './effects';\nimport { GameActionId } from './gameActions';\nimport { ClosedRound } from './round';\n\nexport type GremlinDescription = {\n  name: string;\n  description?: ReactElement;\n};\nexport type GremlinId = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\ntype GremlinImplementation = GremlinDescription & {\n  effect: (age: number, finishedActionIds: GameActionId[]) => null | Effect;\n};\ntype GremlinList = { [k in GremlinId]?: GremlinImplementation };\n\nexport function isGremlinId(thing: unknown): thing is GremlinId {\n  return typeof thing === 'number' && thing >= 1 && thing <= 12;\n}\n\nexport function getGremlinRolls(rounds: ClosedRound[]) {\n  return rounds.map((round) => round.gremlinRoll).filter(isGremlinId);\n}\n\nexport function getGremlin(\n  rounds: ClosedRound[],\n): GremlinDescription | undefined {\n  const lastRounds = [...rounds];\n  const lastRound = lastRounds.pop();\n  const pastRolls = getGremlinRolls(lastRounds);\n  if (\n    !lastRound ||\n    !lastRound.gremlinRoll ||\n    pastRolls.includes(lastRound.gremlinRoll)\n  ) {\n    return;\n  }\n\n  return gremlinList[lastRound.gremlinRoll];\n}\n\nexport const gremlinList: GremlinList = {\n  4: {\n    name: 'Emergency on other team',\n    description: (\n      <p>\n        TODO description: Your best tester is needed by another team for a\n        while. Cross training and protection from outside distraction will\n        reduce effects\n      </p>\n    ),\n    effect(age, finishedActionIds) {\n      if (\n        age >= 3 ||\n        (finishedActionIds.includes(\n          'GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION',\n        ) &&\n          age >= 2)\n      ) {\n        return null;\n      }\n\n      let capacity = -3;\n\n      if (finishedActionIds.includes('GAME_ACTION_INFORMAL_CROSS_TRAINING')) {\n        capacity += 1;\n      }\n      if (finishedActionIds.includes('GAME_ACTION_FORMAL_CROSS_TRAINING')) {\n        capacity += 1;\n      }\n\n      return {\n        capacity,\n        title:\n          'Weâ€™ve had an emergency on another team, we need your best tester for a while.',\n      };\n    },\n  },\n};\n\nexport function getGremlinEffect(\n  gremlinId: GremlinId,\n  age: number,\n  finishedActionIds: GameActionId[],\n) {\n  return gremlinList[gremlinId]?.effect(age, finishedActionIds) || null;\n}\n\nexport function rollGremlin(currentRound: number): GremlinId | undefined {\n  if (currentRound < 2) {\n    return undefined;\n  }\n  return (rollDice() + rollDice()) as GremlinId;\n}\n","import { Round, ClosedRound, createRound, getEffects } from './round';\nimport { Effect, gameEffectList, isEffect } from './effects';\nimport { concatByProp } from '../lib';\nimport { getRoundDescriptionEffects } from './roundDescriptions';\nimport { GameActionId } from './gameActions';\nimport { getGremlinRolls } from './gremlins';\n\nexport const GAME_STATE = Symbol('GAME_STATE');\n\nexport type GameState = {\n  currentRound: Round;\n  pastRounds: ClosedRound[];\n};\nexport type SelectGameActionAction = {\n  type: 'SELECT_GAME_ACTION';\n  payload: GameActionId;\n};\nexport type UnselectGameActionAction = {\n  type: 'UNSELECT_GAME_ACTION';\n  payload: GameActionId;\n};\nexport type NextRoundAction = {\n  type: 'NEXT_ROUND';\n  payload: ClosedRound;\n};\nexport type Action =\n  | NextRoundAction\n  | SelectGameActionAction\n  | UnselectGameActionAction;\n\nexport const INITIAL_STATE: GameState = {\n  currentRound: {\n    selectedGameActionIds: [],\n  },\n  pastRounds: [],\n};\n\nexport function getRoundEffects(pastRounds: ClosedRound[]) {\n  const roundAmounts = pastRounds.length;\n  const roundDescriptionEffects = getRoundDescriptionEffects(pastRounds);\n  if (!pastRounds.length) {\n    return roundDescriptionEffects.filter(isEffect);\n  }\n\n  const allActionIds = concatByProp(pastRounds, 'selectedGameActionIds');\n\n  const actionEffects = pastRounds.reduce((allEffects, round, i) => {\n    const age = roundAmounts - (i + 1);\n    const previousGremlinRolls = getGremlinRolls(pastRounds.slice(0, i));\n    const roundEffects = getEffects(\n      round,\n      age,\n      allActionIds,\n      previousGremlinRolls,\n    );\n\n    return allEffects.concat(roundEffects);\n  }, [] as (Effect | null)[]);\n\n  const gameEffects = gameEffectList.map((gameEffect) => {\n    return gameEffect(pastRounds);\n  });\n\n  return roundDescriptionEffects\n    .concat(actionEffects)\n    .concat(gameEffects)\n    .filter(isEffect);\n}\n\nexport function getCapacity(effects: Effect[]) {\n  return effects.reduce((capacity, effect) => {\n    return capacity + effect.capacity;\n  }, 0);\n}\n\nexport function gameReducer(state: GameState, action: Action): GameState {\n  switch (action.type) {\n    case 'SELECT_GAME_ACTION': {\n      return {\n        ...state,\n        currentRound: {\n          ...state.currentRound,\n          selectedGameActionIds: [\n            ...state.currentRound.selectedGameActionIds,\n            action.payload,\n          ],\n        },\n      };\n    }\n    case 'UNSELECT_GAME_ACTION': {\n      return {\n        ...state,\n        currentRound: {\n          ...state.currentRound,\n          selectedGameActionIds: state.currentRound.selectedGameActionIds.filter(\n            (id) => id !== action.payload,\n          ),\n        },\n      };\n    }\n    case 'NEXT_ROUND': {\n      return {\n        ...state,\n        pastRounds: [...state.pastRounds, action.payload],\n        currentRound: createRound(),\n      };\n    }\n  }\n}\n","import { Effect } from '../effects';\nimport { ClosedRound } from '../round';\nimport { roundDescriptions } from './roundDescriptions';\n\nexport function getRoundDescriptionEffects(pastRounds: ClosedRound[]) {\n  const currentRound = pastRounds.length;\n  const roundDescriptionEffects: (null | Effect)[] = [];\n\n  for (let i = 0; i <= currentRound; i++) {\n    const desc = roundDescriptions[i + 1];\n    if (!desc) {\n      continue;\n    }\n    const previousRounds = pastRounds.slice(0, i);\n    roundDescriptionEffects.push(desc.effect?.(previousRounds) || null);\n  }\n\n  return roundDescriptionEffects;\n}\n","import { storySucceeds, sumByProp } from '../lib';\nimport { GameState, getCapacity, getRoundEffects } from './game';\nimport {\n  findGameActionById,\n  GameActionId,\n  getCost as getActionCost,\n  getEffect as getActionEffect,\n} from './gameActions';\nimport { getGremlinEffect, GremlinId, rollGremlin } from './gremlins';\n\nexport type Round = {\n  selectedGameActionIds: GameActionId[];\n};\nexport type ClosedRound = Round & {\n  storiesCompleted: number;\n  gremlinRoll?: GremlinId;\n};\n\nexport function createRound(): Round {\n  return {\n    selectedGameActionIds: [],\n  };\n}\n\nexport function getEffects(\n  round: ClosedRound,\n  age: number,\n  finishedActionIds: GameActionId[],\n  pastGremlinRolls: GremlinId[],\n) {\n  return round.selectedGameActionIds\n    .map((id) => getActionEffect(id, age, finishedActionIds))\n    .concat(\n      round.gremlinRoll && !pastGremlinRolls.includes(round.gremlinRoll)\n        ? getGremlinEffect(round.gremlinRoll, age, finishedActionIds)\n        : [],\n    );\n}\n\nexport function getCosts(round: Round) {\n  return sumByProp(\n    round.selectedGameActionIds.map((id) => ({\n      cost: getActionCost(findGameActionById(id)),\n    })),\n    'cost',\n  );\n}\n\nexport function closeRound(state: GameState): ClosedRound {\n  const storiesAttempted =\n    getCapacity(getRoundEffects(state.pastRounds)) -\n    getCosts(state.currentRound);\n\n  return {\n    ...state.currentRound,\n    gremlinRoll: rollGremlin(state.pastRounds.length + 1),\n    storiesCompleted:\n      storiesAttempted <= 0\n        ? 0\n        : Array(storiesAttempted).fill('').filter(storySucceeds).length,\n  };\n}\n","import { GameActionId } from './gameActions';\nimport { findGameActionById } from './findGameActionById';\nimport { Effect } from '../effects';\n\nexport function getEffect(\n  gameActionId: GameActionId,\n  age: number,\n  finishedActionIds: GameActionId[],\n): Effect | null {\n  const gameAction = findGameActionById(gameActionId);\n  const effect = gameAction.effect(age, finishedActionIds);\n  if (effect === null) {\n    return null;\n  }\n\n  return {\n    title: `${gameAction.name} active`,\n    ...effect,\n  };\n}\n","import { GameAction } from './types';\n\nexport function getCost(gameAction: GameAction): number {\n  return gameAction.cost;\n}\n","import { Dispatch, ReactElement, useReducer } from 'react';\nimport { concatByProp, sumByProp } from '../lib';\nimport { isVisibleEffect, VisibleEffect } from './effects';\nimport {\n  Action,\n  gameReducer,\n  getRoundEffects,\n  getCapacity,\n  INITIAL_STATE,\n} from './game';\nimport {\n  getAvailableGameActions,\n  GameAction,\n  findGameActionById,\n} from './gameActions';\nimport { GameActionWithStatus } from './gameActions/getAvailableGameActions';\nimport { GremlinDescription, getGremlin } from './gremlins';\nimport { ClosedRound, closeRound, getCosts } from './round';\nimport { roundDescriptions } from './roundDescriptions';\n\nexport type AppState = {\n  availableGameActions: GameActionWithStatus[];\n  currentRound: {\n    number: number;\n    title?: string;\n    gremlin?: GremlinDescription;\n    description?: ReactElement;\n    selectedGameActions: GameAction[];\n    capacity: {\n      available: number;\n      total: number;\n    };\n    activeEffects: VisibleEffect[];\n  };\n  result: {\n    storiesCompleted: number;\n  };\n  pastRounds: {\n    number: number;\n  }[];\n};\n\nexport default function useAppState(): [\n  AppState,\n  Dispatch<Action>,\n  () => ClosedRound,\n] {\n  const [state, dispatch] = useReducer(gameReducer, INITIAL_STATE);\n\n  const effects = getRoundEffects(state.pastRounds);\n  const roundCapacity = getCapacity(effects);\n  const visibleEffects = effects.filter(isVisibleEffect);\n  const costs = getCosts(state.currentRound);\n  const capacityAvailable = roundCapacity - costs;\n  const currentRoundNumber = state.pastRounds.length + 1;\n  const availableGameActions = getAvailableGameActions(\n    currentRoundNumber,\n    concatByProp(state.pastRounds, 'selectedGameActionIds'),\n    state.currentRound.selectedGameActionIds,\n  );\n  const selectedGameActions = state.currentRound.selectedGameActionIds.map(\n    findGameActionById,\n  );\n  const currentRoundTitle = roundDescriptions[currentRoundNumber]?.title;\n  const currentRoundDescription =\n    roundDescriptions[currentRoundNumber]?.description;\n  const gremlin = getGremlin(state.pastRounds);\n\n  return [\n    {\n      availableGameActions,\n      currentRound: {\n        selectedGameActions,\n        title: currentRoundTitle,\n        description: currentRoundDescription,\n        gremlin,\n        number: currentRoundNumber,\n        capacity: {\n          available: capacityAvailable,\n          total: roundCapacity,\n        },\n        activeEffects: visibleEffects,\n      },\n      result: {\n        storiesCompleted: sumByProp(state.pastRounds, 'storiesCompleted'),\n      },\n      pastRounds: state.pastRounds.map((round, i) => ({\n        number: i + 1,\n      })),\n    },\n    dispatch,\n    () => closeRound(state),\n  ];\n}\n","import React from 'react';\n\ntype Props = {\n  storiesCompleted: number;\n};\n\nexport default function Results(props: Props) {\n  return (\n    <>\n      <h2>Results</h2>\n      <p>Completed {props.storiesCompleted} user stories</p>\n    </>\n  );\n}\n","import React, { ButtonHTMLAttributes } from 'react';\nimport cx from 'classnames';\nimport styles from './Button.module.css';\n\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\n  primary?: boolean;\n};\n\nexport default function Button({ primary, className, ...rest }: Props) {\n  return (\n    <button\n      className={cx(className, styles.button, primary && styles.primary)}\n      {...rest}\n    />\n  );\n}\n","import React, {\n  MutableRefObject,\n  ReactElement,\n  ReactNode,\n  useState,\n} from 'react';\nimport { TOTAL_ROUNDS } from '../constants';\nimport { AppState, GameDispatch, ClosedRound } from '../state';\nimport Button from './Button';\nimport styles from './Round.module.css';\n\ntype Props = {\n  currentRound: AppState['currentRound'];\n  closeRound: () => ClosedRound;\n  dispatch: GameDispatch;\n  overlayRef: MutableRefObject<HTMLDivElement | null>;\n  row1?: ReactElement;\n  row2?: ReactElement;\n};\n\nfunction Actions(props: {\n  onNext: () => void;\n  description: ReactNode;\n  children: ReactNode;\n}) {\n  const [showDescription, setShowDescription] = useState(false);\n\n  return (\n    <>\n      {props.description && showDescription && props.description}\n      {props.description && (\n        <Button onClick={() => setShowDescription(!showDescription)}>\n          {showDescription ? 'Hide' : 'Show'} Description\n        </Button>\n      )}\n      <Button primary onClick={props.onNext}>\n        Complete Round\n      </Button>\n      {props.children}\n    </>\n  );\n}\n\ntype View = 'welcome' | 'actions' | 'results';\n\nexport default function Round(props: Props) {\n  const [view, setView] = useState<View>('welcome');\n  const [closedRound, setClosedRound] = useState<ClosedRound>();\n\n  const description = props.currentRound.description ? (\n    <div className={styles.description}>{props.currentRound.description}</div>\n  ) : null;\n\n  return (\n    <>\n      <h4 className={styles.number}>\n        Round {props.currentRound.number} of {TOTAL_ROUNDS}\n      </h4>\n      {props.currentRound.title && (\n        <h2 className={styles.title}>{props.currentRound.title}</h2>\n      )}\n      {view === 'welcome' && (\n        <>\n          {description}\n          {props.currentRound.gremlin && (\n            <>\n              <h3>âš ï¸ {props.currentRound.gremlin.name}</h3>\n              {props.currentRound.gremlin.description}\n            </>\n          )}\n          <div className={styles.center}>\n            <Button primary onClick={() => setView('actions')}>\n              Start Round\n            </Button>\n          </div>\n        </>\n      )}\n      {view === 'actions' && (\n        <Actions onNext={() => setView('results')} description={description}>\n          <div ref={props.overlayRef} />\n          <div className={styles.rows}>\n            <div className={styles.row}>{props.row1}</div>\n            <div className={styles.row}>{props.row2}</div>\n          </div>\n        </Actions>\n      )}\n      {view === 'results' && (\n        <>\n          <ul className={styles.userStoryIcons}>\n            {Array(props.currentRound.capacity.available)\n              .fill('')\n              .map((_, i) => (\n                <li key={i}>\n                  {!closedRound\n                    ? 'â“'\n                    : i < closedRound.storiesCompleted\n                    ? 'âœ…'\n                    : 'âŒ'}\n                </li>\n              ))}\n          </ul>\n          {!closedRound && (\n            <p className={styles.userStoryDescription}>\n              {props.currentRound.capacity.available} capacity to spend on user\n              stories\n              <br />\n              <br />\n            </p>\n          )}\n          {closedRound && (\n            <p className={styles.userStoryDescription}>\n              {props.currentRound.capacity.available} user stories attempted\n              <br />\n              {closedRound.storiesCompleted} user stories completed\n            </p>\n          )}\n          {/* <ul>\n            <li>Attempted {props.currentRound.capacity.available} Stories</li>\n            <li>Completed {view.payload.storiesCompleted} Stories</li>\n          </ul> */}\n          <div className={styles.center}>\n            <Button\n              disabled={!!closedRound}\n              onClick={() => {\n                setClosedRound(props.closeRound());\n              }}\n            >\n              Roll for User Stories\n            </Button>\n            <Button\n              primary\n              disabled={!closedRound}\n              onClick={() => {\n                if (!closedRound) {\n                  throw new Error(\n                    'Can not go to next round without closing this one',\n                  );\n                }\n                props.dispatch({\n                  type: 'NEXT_ROUND',\n                  payload: closedRound,\n                });\n              }}\n            >\n              Next Round\n            </Button>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","export const TOTAL_ROUNDS = 6;\n","import React, { useRef } from 'react';\nimport cx from 'classnames';\nimport {\n  GameActionWithStatus,\n  isGameActionWithIcon,\n  isGameActionWithImage,\n} from '../../state';\nimport styles from './Actions.module.css';\n\ntype ActionProps = GameActionWithStatus & {\n  onClick: (elm: HTMLButtonElement) => void;\n  onDoubleClick: () => void;\n};\n\nexport default function Action(props: ActionProps) {\n  const ref = useRef<HTMLButtonElement>(null);\n  const clickTimer = useRef<NodeJS.Timeout>();\n  const gameAction = props.gameAction;\n\n  return (\n    <button\n      ref={ref}\n      onClick={() => {\n        if (clickTimer.current) {\n          clearTimeout(clickTimer.current);\n        }\n        clickTimer.current = setTimeout(() => props.onClick(ref.current!), 300);\n      }}\n      onDoubleClick={() => {\n        if (clickTimer.current) {\n          clearTimeout(clickTimer.current);\n        }\n        props.onDoubleClick();\n      }}\n      className={cx(\n        styles.action,\n        ['SELECTED', 'FINISHED'].includes(props.status.type) &&\n          styles.actionSelected,\n      )}\n      disabled={['MISSING_DEP', 'FINISHED'].includes(props.status.type)}\n    >\n      {isGameActionWithImage(gameAction) && (\n        <span\n          className={styles.actionImage}\n          style={{ backgroundImage: `url(${gameAction.image})` }}\n        ></span>\n      )}\n      {isGameActionWithIcon(gameAction) && (\n        <span className={styles.actionIcon}>{gameAction.icon}</span>\n      )}\n\n      <span>{props.gameAction.name}</span>\n    </button>\n  );\n}\n","import React, { useState } from 'react';\nimport { GameActionId, GameActionWithStatus } from '../../state';\nimport styles from './Actions.module.css';\nimport Action from './Action';\n\ntype Props = {\n  round: number;\n  initialVisible: boolean;\n  onOpen: (elm: HTMLElement, id: GameActionId) => void;\n  onSelect: (actionWithStatus: GameActionWithStatus) => void;\n  actionsWithStatus: GameActionWithStatus[];\n};\n\nexport default function RoundActions(props: Props) {\n  const [visible, setVisible] = useState(props.initialVisible);\n  return (\n    <>\n      <li>\n        <button\n          className={styles.roundVisibleToggle}\n          onClick={() => setVisible(!visible)}\n        >\n          Round {props.round} {visible ? 'â–²' : 'â–¼'}\n        </button>\n        {visible && (\n          <ul className={styles.roundActionList}>\n            {props.actionsWithStatus.map(\n              /* eslint-disable-next-line array-callback-return */\n              (actionWithStatus): JSX.Element => {\n                return (\n                  <li key={actionWithStatus.gameAction.id}>\n                    <Action\n                      {...actionWithStatus}\n                      onClick={(ev) =>\n                        props.onOpen(ev, actionWithStatus.gameAction.id)\n                      }\n                      onDoubleClick={() => {\n                        props.onSelect(actionWithStatus);\n                      }}\n                    />\n                  </li>\n                );\n              },\n            )}\n          </ul>\n        )}\n      </li>\n    </>\n  );\n}\n","import React, { useState, useRef, useEffect, ReactNode } from 'react';\nimport { usePopper } from 'react-popper';\nimport styles from './Actions.module.css';\n\ntype Props = {\n  title: ReactNode;\n  children: ReactNode;\n  referenceElement: HTMLElement | null;\n  onClose: () => void;\n};\n\nexport default function Overlay(props: Props) {\n  const referenceElement = props.referenceElement;\n  const onClose = props.onClose;\n  const overlayRef = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    const handler = (ev: MouseEvent) => {\n      if (!referenceElement || !ev.target) {\n        return;\n      }\n      if (!referenceElement.contains(ev.target as any)) {\n        onClose();\n      }\n    };\n    window.addEventListener('click', handler);\n\n    return () => window.removeEventListener('click', handler);\n  }, [referenceElement, onClose]);\n\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(\n    null,\n  );\n  overlayRef.current = popperElement;\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null);\n  const popper = usePopper(referenceElement, popperElement, {\n    placement: 'bottom-end',\n    modifiers: [\n      {\n        name: 'flip',\n        options: {\n          fallbackPlacements: [\n            'bottom',\n            'bottom-start',\n            'top-end',\n            'top',\n            'top-start',\n            'right',\n          ],\n        },\n      },\n      { name: 'preventOverflow' },\n      { name: 'arrow', options: { element: arrowElement } },\n    ],\n  });\n\n  return (\n    <div\n      data-popper-placement={popper.state?.placement}\n      ref={setPopperElement}\n      className={styles.overlay}\n      style={popper.styles.popper}\n      {...popper.attributes}\n    >\n      <div\n        ref={setArrowElement}\n        style={popper.styles.arrow}\n        className={styles.arrow}\n      />\n      <div className={styles.overlayInner}>\n        <button className={styles.closeOverlay} onClick={() => props.onClose()}>\n          â•³\n        </button>\n        <h3 className={styles.overlayTitle}>{props.title}</h3>\n        {props.children}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, MutableRefObject } from 'react';\nimport {\n  GameDispatch,\n  AppState,\n  GameActionId,\n  GameActionWithStatus,\n} from '../../state';\nimport styles from './Actions.module.css';\nimport RoundActions from './RoundActions';\nimport Overlay from './Overlay';\nimport { Button } from '../../components';\n\nfunction onlyRound(number: number) {\n  return (actionWithStatus: GameActionWithStatus): boolean =>\n    actionWithStatus.gameAction.available.round === number;\n}\n\nfunction toggle(\n  actionWithStatus: GameActionWithStatus,\n  dispatch: GameDispatch,\n) {\n  return () => {\n    dispatch(\n      actionWithStatus.status.type === 'SELECTED'\n        ? {\n            type: 'UNSELECT_GAME_ACTION',\n            payload: actionWithStatus.gameAction.id,\n          }\n        : {\n            type: 'SELECT_GAME_ACTION',\n            payload: actionWithStatus.gameAction.id,\n          },\n    );\n  };\n}\n\ntype Props = {\n  currentRound: number;\n  availableGameActions: AppState['availableGameActions'];\n  dispatch: GameDispatch;\n  overlay: MutableRefObject<HTMLElement | null>;\n};\n\nexport default function Actions(props: Props) {\n  const [selectedActionId, setSelectedAction] = useState<GameActionId>();\n  const [referenceElement, setReferenceElement] = useState<HTMLElement | null>(\n    null,\n  );\n  const selectedAction =\n    selectedActionId &&\n    props.availableGameActions.find(\n      (actionWithStatus) => actionWithStatus.gameAction.id === selectedActionId,\n    );\n\n  return (\n    <>\n      <h2>Available Actions</h2>\n      <ul className={styles.roundList}>\n        {Array(props.currentRound)\n          .fill('')\n          .map((_, i) => {\n            const round = props.currentRound - i;\n            return (\n              <RoundActions\n                onOpen={(elm, actionId) => {\n                  setReferenceElement(elm);\n                  setSelectedAction(actionId);\n                }}\n                onSelect={(actionWithState) =>\n                  toggle(actionWithState, props.dispatch)()\n                }\n                key={round}\n                initialVisible={round === props.currentRound}\n                round={round}\n                actionsWithStatus={props.availableGameActions.filter(\n                  onlyRound(round),\n                )}\n              />\n            );\n          })}\n      </ul>\n      {selectedAction && (\n        <Overlay\n          referenceElement={referenceElement}\n          title={selectedAction.gameAction.name}\n          onClose={() => setSelectedAction(undefined)}\n        >\n          <p>{selectedAction.gameAction.description}</p>\n          <p>\n            <b>Cost</b>: {selectedAction.gameAction.cost}\n          </p>\n          <Button\n            primary={selectedAction.status.type === 'AVAILABLE'}\n            onClick={toggle(selectedAction, props.dispatch)}\n          >\n            {selectedAction.status.type === 'SELECTED' ? 'Remove' : 'Select'}\n          </Button>\n        </Overlay>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport cx from 'classnames';\nimport { AppState, startCapacity } from '../state';\nimport styles from './Status.module.css';\n\ntype Props = AppState['currentRound'];\n\nexport default function Status(props: Props) {\n  const percentOnUserStories = props.capacity.available / props.capacity.total;\n  const userStoryStatus =\n    percentOnUserStories < 0.5\n      ? 'CRITICAL'\n      : percentOnUserStories < 0.7\n      ? 'WARNING'\n      : 'OK';\n  return (\n    <>\n      <h2>Capacity Breakdown</h2>\n      <ul className={styles.status}>\n        <li>\n          <span className={styles.cap}>{startCapacity}</span> Start Capacity\n        </li>\n        {props.activeEffects.length !== 0 && (\n          <>\n            <li className={styles.title}>Active Effects</li>\n            {props.activeEffects.map((effect) => (\n              <li key={effect.title}>\n                <span className={styles.cap}>\n                  <span className={styles.sign}>\n                    {effect.capacity > 0 ? '+' : '-'}\n                  </span>\n                  {String(effect.capacity).replace(/^-/, '')}\n                </span>\n                {effect.title}\n              </li>\n            ))}\n          </>\n        )}\n        <li className={styles.capThisRound}>\n          <span className={styles.cap}>\n            <span className={styles.sign}>=</span> {props.capacity.total}\n          </span>{' '}\n          Capacity available this round\n        </li>\n        {props.selectedGameActions.length !== 0 && (\n          <>\n            <li className={styles.title}>Selected Actions</li>\n            {props.selectedGameActions.map((gameAction) => (\n              <li key={gameAction.id}>\n                <span className={styles.cap}>\n                  <span className={styles.sign}>-</span> {gameAction.cost}\n                </span>\n                {gameAction.name}\n              </li>\n            ))}\n          </>\n        )}\n\n        <li className={styles.title}>User Stories</li>\n        <li\n          className={cx(\n            userStoryStatus === 'WARNING' && styles.userStoryWarning,\n            userStoryStatus === 'CRITICAL' && styles.userStoryCritical,\n          )}\n        >\n          <span className={styles.cap}>\n            <span className={styles.sign}>-</span> {props.capacity.available}\n          </span>{' '}\n          spent on User Stories\n        </li>\n        <li className={styles.title}>\n          {userStoryStatus === 'WARNING' && (\n            <>ðŸ§‘â€ðŸ’¼: \"feature work needs more priority\"</>\n          )}\n          {userStoryStatus === 'CRITICAL' && (\n            <>ðŸ§‘â€ðŸ’¼: \"not enough time spent on feature work\"</>\n          )}\n        </li>\n      </ul>\n    </>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport styles from './Header.module.css';\n\ntype Props = {\n  children?: ReactNode;\n};\nexport default function Header(props: Props) {\n  return (\n    <div className={styles.header}>\n      <h1>High-Performance Team Game </h1>\n      {props.children}\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Rules() {\n  return (\n    <>\n      <h2>Rules</h2>\n      <p>\n        <ul>\n          <li>Rounds represent 6 weeks or 3 Sprints in the life of your team</li>\n          <li>The game lasts 10 rounds or 30 weeks</li>\n          <li>Your team starts with a Capacity of 10 pontsi</li>\n          <ul>\n            <li>This Capacity can be spent on User Stories</li>\n            <li>This Capacity can also be spent on Improvements (aka Actions). These improvements cost the team Capacity this round and may provide benefit in future rounds.</li>\n          </ul>\n          <li>Teams that fail to improve both Communications and Engineering Practice will eventually be penalized.</li>\n          <li>If you play well your team's capacity will increase round by round</li>\n        </ul>\n        <h2>Rounds</h2>\n        Each round consists of a series of steps:\n        <ol>\n          <li>You get a round description - Click <b>Start Round</b></li>\n          <li>Select Improvements or Actions that will affect the team. Once selected the actions cost will be taken away from the teams Capacity Click <b>Complete Round</b></li>\n          <li>The Game tells you how much capacity there is to spend on User Stories.Click <b>Roll for User Stories</b></li>\n          <li>The game determines how many Stories were completed. Click <b>Next Round</b></li>\n          <li>At the end of each round the game also checks to see if your team was affected by a Gremlin - example - \"Manager yells at a team member\"</li>\n        </ol>\n        Notice each round your Capacity increases or decreases depending on the improvements you have made and the gremlins that affect you.\n\n        After round 1 the game displays the active effects of Improvements that were previously made.\n\n        Hint - play the game as often as you want. So if you want to run experiments to see what works - go for it.\n      </p>\n    </>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport styles from './Content.module.css';\n\nexport default function Content(props: { children?: ReactNode }) {\n  return <div className={styles.content}>{props.children}</div>;\n}\n","import React, { ButtonHTMLAttributes, ReactNode } from 'react';\nimport cx from 'classnames';\nimport styles from './Tabs.module.css';\n\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\n  active?: boolean;\n};\n\nexport function Tabs(props: { children?: ReactNode }) {\n  return <div className={styles.tabs}>{props.children}</div>;\n}\n\nexport function Tab({ active, className, ...rest }: Props) {\n  return (\n    <button\n      className={cx(styles.tab, className, active && styles.tabActive)}\n      {...rest}\n    />\n  );\n}\n","import React, { useState, useRef } from 'react';\nimport { useAppState } from './state';\nimport { TOTAL_ROUNDS } from './constants';\nimport {\n  Results,\n  Actions,\n  Round,\n  Status,\n  Header,\n  Rules,\n  Tabs,\n  Tab,\n  Content,\n} from './components';\n\nexport default function App() {\n  const [state, dispatch, closeRound] = useAppState();\n  const [tab, setTab] = useState<'play' | 'rules'>('play');\n  const overlayRef = useRef<HTMLDivElement | null>(null);\n\n  return (\n    <>\n      <Header>\n        <Tabs>\n          <Tab active={tab === 'play'} onClick={() => setTab('play')}>\n            Play\n          </Tab>\n          <Tab active={tab === 'rules'} onClick={() => setTab('rules')}>\n            Rules\n          </Tab>\n        </Tabs>\n      </Header>\n      <Content>\n        {tab === 'play' && (\n          <>\n            {state.currentRound.number > TOTAL_ROUNDS ? (\n              <Results storiesCompleted={state.result.storiesCompleted} />\n            ) : (\n              <Round\n                key={state.currentRound.number}\n                dispatch={dispatch}\n                currentRound={state.currentRound}\n                closeRound={closeRound}\n                overlayRef={overlayRef}\n                row1={\n                  <Actions\n                    overlay={overlayRef}\n                    currentRound={state.currentRound.number}\n                    availableGameActions={state.availableGameActions}\n                    dispatch={dispatch}\n                  />\n                }\n                row2={<Status {...state.currentRound} />}\n              />\n            )}\n          </>\n        )}\n        {tab === 'rules' && <Rules />}\n      </Content>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}