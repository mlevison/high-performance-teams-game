(this["webpackJsonphigh-performance-teams-game"]=this["webpackJsonphigh-performance-teams-game"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(3),a=n.n(c),i=n(8),o=n.n(i),s=(n(15),n(5)),u=n(1);function l(){return 1+Math.floor(6*Math.random())>=3}var d=n(2);function f(e,t){var n=0;return e.forEach((function(e){n+=e[t]})),n}function m(e,t){var n=[];return e.forEach((function(e){n.push.apply(n,Object(d.a)(e[t]))})),n}function O(e){return function(t){return t>=e}}function p(){return function(e,t,n,r){return![].concat(Object(d.a)(t),Object(d.a)(n)).includes(r)}}function b(e){return function(){for(var t=0;t<e.length;t++){var n=e[t];if(!n.apply(void 0,arguments))return!1}return!0}}function h(){return null}var j,R={PROTECTED_FROM_OUTSIDE_DISTRACTION:{name:"Protected from Outside Distraction",available:p(),description:"ScrumMaster protects the team from outside distraction",cost:1,effect:h},WORKING_AGREEMENTS:{name:"Working Agreements",available:p(),description:"Create Team Working Agreements",cost:1,effect:function(){return{capacity:1,title:"TODO: Working Agreements active"}}},ELIMINATE_LONG_LIVED_FEATURE_BRANCHES:{type:"ENGINEERING",name:"All Work is done on Main or Trunk",available:p(),description:"When teams use Feature Branches \u2013 then they\u2019re not really using Continuous integration. Feature branching optimizes for the individual while harming the Team",cost:2,effect:function(){return{capacity:1,title:"TODO: All Work is done on Main or Trunk active"}}},GAME_ACTION_BUILD_SERVER:{type:"ENGINEERING",name:"Build Server",available:p(),description:"Setup Build Server and Continuous Integration. This is required to make future engineering improvements",cost:2,effect:h},GAME_ACTION_TEAMS_ON_SAME_FLOOR:{name:"Team Members On SameFloor",available:p(),description:"Getting Team Members on the same floor reduces the cost of communication as they don't have to go far to ask questions",cost:3,effect:function(e){return e<5?{capacity:e+1,title:"TODO: Team on same floor since ".concat(e+1," rounds")}:{capacity:5,title:"TODO: Team on same floor since 5 or more rounds"}}},GAME_ACTION_UNIT_TESTING:{type:"ENGINEERING",name:"Unit Testing",available:b([p(),O(2),(j="GAME_ACTION_BUILD_SERVER",function(e,t){return t.includes(j)})]),description:"TODO: SOME DESCRIPTION",cost:2,effect:function(){return{capacity:2,title:"TODO: Unit Testing active"}}},GAME_ACTION_INFORMAL_CROSS_TRAINING:{name:"Informal Cross Training",available:b([p(),O(3)]),description:"Informal cross-training for existing team members in an area the team is weak. (Testing anyone?)",cost:1,effect:function(){return{capacity:1,title:"TODO: Informal Cross Training active"}}}},E=Object.entries(R).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(u.a)(Object(u.a)({},r),{},{id:n})}));function T(e){return E.find((function(t){return e===t.id}))}function I(e,t,n){return e.selectedGameActionIds.map((function(e){return function(e,t,n){return T(e).effect(t,n)}(e,t,n)}))}function g(e){return f(e.selectedGameActionIds.map(T),"cost")}var v=n(9),A=[function(e){var t,n=0,r=Object(v.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.selectedGameActionIds.map(T).find((function(e){return"ENGINEERING"===e.type})))break;n+=1}}catch(c){r.e(c)}finally{r.f()}return 0===n?null:{capacity:-n,title:"TODO: TechnicalDebt Drag Effect Title",description:"No Engineering improvement for ".concat(n," round").concat(n>1?"s":"")}}],N={currentRound:{selectedGameActionIds:[]},pastRounds:[]};function G(e){if(!e.length)return[];var t=e.length,n=m(e,"selectedGameActionIds"),r=e.reduce((function(e,r,c){var a=I(r,t-(c+1),n);return e.concat(a)}),[]),c=A.map((function(t){return t(e)}));return r.concat(c).filter((function(e){return null!==e}))}function y(e){return e.reduce((function(e,t){return e+t.capacity}),10)}function _(e,t){switch(t.type){case"SELECT_GAME_ACTION":return Object(u.a)(Object(u.a)({},e),{},{currentRound:Object(u.a)(Object(u.a)({},e.currentRound),{},{selectedGameActionIds:[].concat(Object(d.a)(e.currentRound.selectedGameActionIds),[t.payload])})});case"NEXT_ROUND":return Object(u.a)(Object(u.a)({},e),{},{pastRounds:[].concat(Object(d.a)(e.pastRounds),[(n=e.currentRound,r=y(G(e.pastRounds))-g(e.currentRound),Object(u.a)(Object(u.a)({},n),{},{storiesCompleted:r<=0?0:Array(r).fill("").filter(l).length}))]),currentRound:{selectedGameActionIds:[]}})}var n,r}function C(){var e,t,n,r=Object(c.useReducer)(_,N),a=Object(s.a)(r,2),i=a[0],o=a[1],u=G(i.pastRounds),l=y(u),d=l-g(i.currentRound);return[{availableGameActions:(e=i.pastRounds.length+1,t=m(i.pastRounds,"selectedGameActionIds"),n=i.currentRound.selectedGameActionIds,E.filter((function(r){return r.available(e,t,n,r.id)}))),currentRound:{number:i.pastRounds.length+1,capacity:{available:d,total:l},activeEffects:u},result:{storiesCompleted:f(i.pastRounds,"storiesCompleted")},pastRounds:i.pastRounds.map((function(e,t){return{number:t+1}}))},o]}function x(){var e=C(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"High-Performance Team Game "}),n.currentRound.number>6?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Results"}),Object(r.jsxs)("p",{children:["Completed ",n.result.storiesCompleted," user stories"]})]}):Object(r.jsxs)(r.Fragment,{children:[0!==n.pastRounds.length&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("h2",{children:["Round: ",n.pastRounds.slice(-1)[0].number," results"]})}),Object(r.jsxs)("h2",{children:["Round ",n.currentRound.number," of 6"]}),Object(r.jsxs)("p",{children:["Capacity: ",n.currentRound.capacity.available," /"," ",n.currentRound.capacity.total]}),0!==n.currentRound.activeEffects.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Active Effects"}),n.currentRound.activeEffects.map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{children:e.title}),Object(r.jsxs)("p",{children:["Capacity: ",e.capacity]}),e.description&&Object(r.jsx)("p",{children:e.description})]})}))]}),Object(r.jsx)("button",{onClick:function(){return c({type:"NEXT_ROUND"})},children:"Complete Round"}),Object(r.jsx)("h2",{children:"Available Actions"}),n.availableGameActions.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:e.name}),Object(r.jsx)("p",{children:e.description}),Object(r.jsxs)("p",{children:["Cost: ",e.cost]}),Object(r.jsx)("button",{onClick:function(){return c({type:"SELECT_GAME_ACTION",payload:e.id})},children:"Commit"})]},e.id)}))]})]})}o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.e20d7b73.chunk.js.map