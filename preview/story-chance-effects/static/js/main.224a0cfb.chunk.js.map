{"version":3,"sources":["components/Actions/Actions.module.css","components/Status.module.css","components/Round.module.css","components/Tabs.module.css","components/Button.module.css","components/Header.module.css","components/Content.module.css","constants.ts","state/effects/helpers.ts","config/rounds/images/example.jpg","config/rounds/index.ts","config/rounds/round1.tsx","config/rounds/round2.tsx","config/rounds/round3.tsx","config/rounds/round4.tsx","config/rounds/round5.tsx","config/gremlins/gremlins.tsx","config/gameEffects/gameEffects.ts","state/rounds/index.ts","lib/random.ts","lib/byProp.ts","lib/rollDice.ts","state/gremlins.tsx","state/game.ts","state/rounds/getRoundEffects.ts","state/round.ts","state/gameActions/gameActions.ts","state/gameActions/findGameActionById.ts","state/gameActions/getAvailableGameActions.ts","state/gameActions/getEffect.ts","state/gameActions/types.ts","state/gameActions/getCost.ts","lib/storySucceeds.ts","state/useAppState.ts","components/Results.tsx","components/Button.tsx","components/Round.tsx","components/Actions/Overlay.tsx","components/Actions/Action.tsx","components/Actions/RoundActions.tsx","components/Actions/Actions.tsx","components/Status.tsx","components/Header.tsx","components/Rules.tsx","components/Content.tsx","components/Tabs.tsx","App.tsx","index.tsx"],"names":["module","exports","EFFECT_HIDDEN","Symbol","isEffect","e","isVisibleEffect","title","isCapacityEffect","Object","getOwnPropertyNames","includes","isUserStoryChanceEffect","rounds","1","description","effect","capacity","actions","GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION","image","name","cost","userStoryChance","GAME_ACTION_REMOTE_TEAM_AVATARS","icon","GAME_ACTION_WORKING_AGREEMENTS","example","GAME_ACTION_BUILD_SERVER","type","GAME_ACTION_TEAMS_ON_SAME_FLOOR","age","this","2","GAME_ACTION_ELIMINATE_LONG_LIVED_FEATURE_BRANCHES","GAME_ACTION_UNIT_TESTING","available","requires","GAME_ACTION_SOCIAL_TIME","GAME_ACTION_FIRE_FIGHTER_AWARD","3","GAME_ACTION_OBSERVE_PEOPLE_AND_RELATIONSHIPS","GAME_ACTION_ONE_ON_ONES","GAME_ACTION_PAIR_PROGRAMMING","GAME_ACTION_TEST_DRIVEN_DEVELOPMENT","4","GAME_ACTION_INFORMAL_CROSS_TRAINING","GAME_ACTION_FORMAL_CROSS_TRAINING","5","gremlins","finishedActionIds","gameEffects","roundsWithoutEngAction","selectedGameActionIds","map","findGameActionById","find","round1Effect","startCapacity","random","Math","sumByProp","objects","key","sum","forEach","obj","concatByProp","all","push","rollDice","floor","isGremlinId","thing","getGremlinRolls","round","gremlinRoll","filter","rollGremlin","currentRound","INITIAL_STATE","pastRounds","getAllRoundEffects","roundAmounts","length","roundDescriptionEffects","roundEffects","i","desc","previousRounds","slice","getRoundEffects","allActionIds","actionEffects","reduce","allEffects","previousGremlinRolls","pastGremlinRolls","id","getActionEffect","concat","gremlinId","getGremlinEffect","getEffects","activeGameEffects","gameEffect","getCapacity","effects","gameReducer","state","action","payload","gameActions","entries","memo","roundNumber","actionId","parseInt","gameActionId","gameAction","UNIQUE","getAvailableGameActions","allDependencies","req","Array","isArray","getDependencies","unmetDependencies","dependencies","missing","status","times","unique","getEffect","fallbackTitle","isGameActionWithIcon","getCosts","closeRound","lastRoundEffects","storiesAttempted","thisRoundsActionEffects","chance","storiesCompleted","from","storySucceeds","useAppState","useReducer","dispatch","roundCapacity","thisRoundsActionUserStoryEffects","visibleEffects","capacityAvailable","currentRoundNumber","availableGameActions","selectedGameActions","gremlin","lastRounds","lastRound","pop","pastRolls","getGremlin","number","total","activeEffects","result","Results","props","Button","primary","className","rest","cx","styles","button","Actions","useState","showDescription","setShowDescription","onClick","onNext","children","Round","view","setView","closedRound","setClosedRound","userStoryEffects","center","ref","overlayRef","rows","row","row1","row2","userStoryChanceList","toString","replace","userStoryIcons","fill","_","disabled","Error","Overlay","referenceElement","onClose","useRef","popperElement","setPopperElement","useEffect","handler","ev","target","contains","window","addEventListener","removeEventListener","current","arrowElement","setArrowElement","popper","usePopper","placement","modifiers","options","offset","fallbackPlacements","element","data-popper-placement","overlay","style","attributes","arrow","overlayInner","closeOverlay","overlayTitle","Action","buttonElement","setButtonElement","clickTimer","clearTimeout","setTimeout","onOpen","onDoubleClick","onSelect","missingDep","actionSelected","actionImage","backgroundImage","actionIcon","isOpen","requiresTitle","requiresList","dep","RoundActions","initialVisible","visible","setVisible","roundVisibleToggle","roundActionList","actionsWithStatus","actionWithStatus","openGameActionId","open","selected","openActionId","setOpenActionId","roundList","undefined","Status","percentOnUserStories","userStoryStatus","cap","sign","String","capThisRound","userStoryWarning","userStoryCritical","Header","header","Rules","Content","content","Tabs","tabs","Tab","active","tab","tabActive","App","setTab","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.224a0cfb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"roundList\":\"Actions_roundList__1eXTE\",\"roundVisibleToggle\":\"Actions_roundVisibleToggle__1R4cj\",\"roundActionList\":\"Actions_roundActionList__3KY_i\",\"action\":\"Actions_action__2Me2d\",\"disabled\":\"Actions_disabled__1_qfh\",\"missingDep\":\"Actions_missingDep__6ylGs\",\"actionImage\":\"Actions_actionImage__BHeO6\",\"actionIcon\":\"Actions_actionIcon__3AhOt\",\"actionSelected\":\"Actions_actionSelected__1b36j\",\"arrow\":\"Actions_arrow__QUeg2\",\"overlay\":\"Actions_overlay__1oAsV\",\"overlayInner\":\"Actions_overlayInner__chZ-k\",\"closeOverlay\":\"Actions_closeOverlay___0tEl\",\"overlayTitle\":\"Actions_overlayTitle__2w_bm\",\"requiresTitle\":\"Actions_requiresTitle__2wHur\",\"requiresList\":\"Actions_requiresList__3Ax-b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cap\":\"Status_cap__gr-F0\",\"sign\":\"Status_sign__2-nEE\",\"status\":\"Status_status__1LWe8\",\"title\":\"Status_title__d3A6m\",\"capThisRound\":\"Status_capThisRound__Pelkl\",\"userStoryWarning\":\"Status_userStoryWarning__1BBoS\",\"userStoryCritical\":\"Status_userStoryCritical__-kvV5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"number\":\"Round_number__37fTP\",\"title\":\"Round_title__1HpVm\",\"description\":\"Round_description__3f1zj\",\"center\":\"Round_center__3U3MJ\",\"rows\":\"Round_rows__1AIUt\",\"row\":\"Round_row__2qnAP\",\"userStoryIcons\":\"Round_userStoryIcons__mYpKQ\",\"userStoryDescription\":\"Round_userStoryDescription__Sgm0s\",\"userStoryChanceList\":\"Round_userStoryChanceList__2gq3g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__33r_k\",\"tab\":\"Tabs_tab__1XZ6E\",\"tabActive\":\"Tabs_tabActive__s9p5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Ce79\",\"primary\":\"Button_primary__10Br9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__mFJ5h\"};","export const TOTAL_ROUNDS = 6;\nexport const EFFECT_HIDDEN = Symbol('EFFECT_HIDDEN');\nexport const STORY_SUCCEEDS_BASE = 30;\n","import {\n  CapacityEffect,\n  Effect,\n  UserStoryChanceEffect,\n  VisibleEffect,\n} from './types';\nimport { EFFECT_HIDDEN } from '../../constants';\n\nexport function isEffect(e: Effect | null): e is Effect {\n  return e !== null;\n}\n\nexport function isVisibleEffect<T extends Effect>(e: T): e is VisibleEffect<T> {\n  return e.title !== EFFECT_HIDDEN;\n}\n\nexport function isCapacityEffect<T extends Effect>(\n  e: T,\n): e is CapacityEffect<T> {\n  return Object.getOwnPropertyNames(e).includes('capacity');\n}\n\nexport function isUserStoryChanceEffect<T extends Effect>(\n  e: T,\n): e is UserStoryChanceEffect<T> {\n  return Object.getOwnPropertyNames(e).includes('userStoryChance');\n}\n","export default \"data:image/jpeg;base64,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\"","import type { RoundDescription } from '../../state/rounds/types';\nimport { round1, Round1ActionId } from './round1';\nimport { round2, Round2ActionId } from './round2';\nimport { round3, Round3ActionId } from './round3';\nimport { round4, Round4ActionId } from './round4';\nimport { round5, Round5ActionId } from './round5';\n\nexport type GameActionId =\n  | Round1ActionId\n  | Round2ActionId\n  | Round3ActionId\n  | Round4ActionId\n  | Round5ActionId;\n\nexport const rounds: { [key: string]: RoundDescription<string> } = {\n  1: round1,\n  2: round2,\n  3: round3,\n  4: round4,\n  5: round5,\n};\n","import React from 'react';\nimport type { RoundDescription } from '../../state';\nimport { EFFECT_HIDDEN } from '../../constants';\nimport example from './images/example.jpg';\n\nexport type Round1ActionId =\n  | 'GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION'\n  | 'GAME_ACTION_REMOTE_TEAM_AVATARS'\n  | 'GAME_ACTION_WORKING_AGREEMENTS'\n  | 'GAME_ACTION_BUILD_SERVER'\n  | 'GAME_ACTION_TEAMS_ON_SAME_FLOOR';\n\nexport const round1: RoundDescription<Round1ActionId> = {\n  title: 'Team, welcome to the Worldâ€™s Smallest Online Bookstore',\n  description: (\n    <p>\n      We hired you because youâ€™re the best individuals in your respective areas.\n      Please remember that weâ€™re Vulture Capital funded and we have only a few\n      months runway, so you must deliver. This first Sprint, the company really\n      needs you to prove that you can deliver a working â€¦\n    </p>\n  ),\n  effect: () => ({ capacity: 10, title: EFFECT_HIDDEN }),\n  actions: {\n    GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION: {\n      image: 'https://placekitten.com/100/100',\n      name: 'Protected from Outside Distraction',\n      description: (\n        <p>\n          ScrumMaster protects the team from outside distraction. Example: A\n          manager asking a team member to do them a small favour as it will only\n          take an hour.\n        </p>\n      ),\n      cost: 1,\n      effect: () => ({ userStoryChance: 10 }),\n    },\n    GAME_ACTION_REMOTE_TEAM_AVATARS: {\n      icon: 'ðŸ‘‹',\n      name: 'Remote Team Avatars',\n      description: (\n        <p>\n          Remote Teams suffer from the start, in that team members don't get\n          know about their colleagues easily. To counter this run a short get to\n          know you session. Get team members to share things like - working\n          hours, city they live in, timezone, contact info. If people are open\n          share some personal details such as hobbies, family status, favorite\n          food and beverage. Some teams even create a wiki or site to share this\n          information\n        </p>\n      ),\n      cost: 1,\n      effect: () => ({ capacity: 1 }),\n    },\n    GAME_ACTION_WORKING_AGREEMENTS: {\n      image: example,\n      name: 'Working Agreements',\n      description: (\n        <p>\n          Working Agreements are a simple, powerful way of creating explicit\n          guidelines for what kind of work culture you want for your Team. They\n          are a reminder for everyone about how they can commit to respectful\n          behaviour and communication\n        </p>\n      ),\n      cost: 1,\n      effect: () => ({ capacity: 1, userStoryChance: 10 }),\n    },\n    GAME_ACTION_BUILD_SERVER: {\n      image: example,\n      type: 'ENGINEERING',\n      name: 'Build Server',\n      description: (\n        <p>\n          Setup Build Server and Continuous Integration. This is required to\n          make future engineering improvements\n        </p>\n      ),\n      cost: 2,\n    },\n    GAME_ACTION_TEAMS_ON_SAME_FLOOR: {\n      image: example,\n      name: 'Team Members On SameFloor',\n      description:\n        \"Getting Team Members on the same floor reduces the cost of communication as they don't have to go far to ask questions\",\n      cost: 3,\n      /* don't use arrow function in order to have \"this\" bound to action */\n      effect(age) {\n        if (age < 5) {\n          return {\n            capacity: age + 1,\n            title: `${this.name} active since ${age + 1} rounds`,\n          };\n        }\n\n        return {\n          capacity: 5,\n          title: `${this.name} active since 5 or more rounds`,\n        };\n      },\n    },\n  },\n};\n","import React from 'react';\nimport type { RoundDescription } from '../../state';\nimport example from './images/example.jpg';\n\nexport type Round2ActionId =\n  | 'GAME_ACTION_ELIMINATE_LONG_LIVED_FEATURE_BRANCHES'\n  | 'GAME_ACTION_UNIT_TESTING'\n  | 'GAME_ACTION_SOCIAL_TIME'\n  | 'GAME_ACTION_FIRE_FIGHTER_AWARD';\n\nexport const round2: RoundDescription<Round2ActionId> = {\n  title: 'Failed Expectations',\n  description: (\n    <p>\n      Your team didn't met our expectations that you would complete 10 User\n      Stories in the last round. Our vulture capitalists are becoming concerned\n      and ask if you can really deliver?\n    </p>\n  ),\n  actions: {\n    GAME_ACTION_ELIMINATE_LONG_LIVED_FEATURE_BRANCHES: {\n      image: example,\n      type: 'ENGINEERING',\n      name: 'All Work is done on Main or Trunk',\n      description: (\n        <p>\n          When teams use Feature Branches â€“ then theyâ€™re not really using\n          Continuous integration. Feature branching optimizes for the individual\n          while harming the Team\n        </p>\n      ),\n      cost: 2,\n      effect: () => ({ capacity: 1 }),\n    },\n    GAME_ACTION_UNIT_TESTING: {\n      image: example,\n      type: 'ENGINEERING',\n      name: 'Unit Testing',\n      available: { requires: 'GAME_ACTION_BUILD_SERVER' },\n      description: <p>TODO: SOME DESCRIPTION</p>,\n      cost: 2,\n      effect: () => ({ capacity: 2 }),\n    },\n    GAME_ACTION_SOCIAL_TIME: {\n      image: example,\n      // type: 'COMMUNICATION',\n      name: 'Social Time',\n      description: (\n        <p>\n          Setting aside some time during the working day to talk to your peers\n          outside of the work itself.\n        </p>\n      ),\n      cost: 1,\n      effect: () => ({\n        capacity: 1,\n        title:\n          'This benefits the team, as team members get to know each other not just as doers of work.',\n      }),\n    },\n    GAME_ACTION_FIRE_FIGHTER_AWARD: {\n      image: example,\n      name: 'Fire Fighter Award',\n      description: (\n        <p>\n          Offer a firefighter award to any team member who solves big problem\n        </p>\n      ),\n      cost: 1,\n      effect: () => ({\n        capacity: -1,\n        title:\n          'Promoting a firefighter culture promotes individual behavior and, surprisingly, the starting of fires.',\n      }),\n    },\n  },\n};\n","import React from 'react';\nimport type { RoundDescription } from '../../state';\nimport example from './images/example.jpg';\n\nexport type Round3ActionId =\n  | 'GAME_ACTION_OBSERVE_PEOPLE_AND_RELATIONSHIPS'\n  | 'GAME_ACTION_ONE_ON_ONES'\n  | 'GAME_ACTION_PAIR_PROGRAMMING'\n  | 'GAME_ACTION_TEST_DRIVEN_DEVELOPMENT';\n\nexport const round3: RoundDescription<Round3ActionId> = {\n  title: 'Work Harder',\n  description: (\n    <p>\n      Things are slowly improving. You are getting better. *Please* work harder\n      in the next Sprint.\n    </p>\n  ),\n  actions: {\n    GAME_ACTION_OBSERVE_PEOPLE_AND_RELATIONSHIPS: {\n      image: example,\n      // type: 'COMMUNICATION',\n      name: 'Observe People + Relationships',\n      description: (\n        <p>\n          ScrumMaster spends time observing people, how they interact, and the\n          quality of their relationship.\n        </p>\n      ),\n      cost: 1,\n      effect: () => ({\n        capacity: 1,\n        title: 'Watching the Team tells you where to put your coaching energy.',\n      }),\n    },\n    GAME_ACTION_ONE_ON_ONES: {\n      image: example,\n      // type: 'COMMUNICATION',\n      name: 'One on One',\n      description: (\n        <p>\n          ScrumMaster meets with all team members for a regular one-on-one. Once\n          â€˜Gremlinsâ€™ start to popup, this action mitigates the worst of the\n          effects, because you already have a deeper understanding of team\n          member needs.\n        </p>\n      ),\n      cost: 1,\n    },\n    GAME_ACTION_PAIR_PROGRAMMING: {\n      image: example,\n      type: 'ENGINEERING',\n      name: 'Pair Programming',\n      description: <p>Two team members â€“ one computer</p>,\n      cost: 2,\n      effect: () => ({\n        capacity: 2,\n        title:\n          'Team Members working in pairs have a lower defect rate, simpler code and learn from each other.',\n      }),\n    },\n    GAME_ACTION_TEST_DRIVEN_DEVELOPMENT: {\n      image: example,\n      type: 'ENGINEERING',\n      name: 'Test Driven Development',\n      available: { requires: 'GAME_ACTION_BUILD_SERVER' },\n      description: <p>Writing Unit level Tests before writing the code</p>,\n      cost: 2,\n      effect: () => ({\n        capacity: 2,\n        title:\n          'By writing the tests before the code â€“ the Developer is forced to consider the simplest solution to their problem. Result: Less code; simpler design and fewer defects',\n      }),\n    },\n  },\n};\n","import React from 'react';\nimport type { RoundDescription } from '../../state';\nimport example from './images/example.jpg';\n\nexport type Round4ActionId =\n  | 'GAME_ACTION_INFORMAL_CROSS_TRAINING'\n  | 'GAME_ACTION_FORMAL_CROSS_TRAINING';\n\nexport const round4: RoundDescription<Round4ActionId> = {\n  title: 'Go Live Soon',\n  description: (\n    <p>\n      We must go live with an early version of the product this round, for a\n      tradeshow. Due to your limited productivity in past rounds, management are\n      prepared to offer some options to help you out. We will provide an extra\n      â€˜4â€™ points of capacity for anything that helps. Another team member?\n      Overtime?\n    </p>\n  ),\n  effect: () => ({\n    capacity: 4,\n    title: 'Management is paying overtime',\n  }),\n  actions: {\n    GAME_ACTION_INFORMAL_CROSS_TRAINING: {\n      image: example,\n      name: 'Informal Cross Training',\n      description:\n        'Informal cross-training for existing team members in an area the team is weak. (Testing anyone?)',\n      cost: 1,\n      effect: () => ({\n        capacity: 1,\n      }),\n    },\n    GAME_ACTION_FORMAL_CROSS_TRAINING: {\n      image: example,\n      name: 'Formal Cross-Training',\n      description:\n        'Formal cross-training for existing team members in an area the team is weak. (Testing anyone?)',\n      cost: 3,\n      effect: () => ({\n        capacity: 3,\n      }),\n    },\n  },\n};\n","import React from 'react';\nimport type { RoundDescription } from '../../state';\n\nexport type Round5ActionId = never;\n\nexport const round5: RoundDescription<Round5ActionId> = {\n  title: \"We're live and we have real Customers\",\n  description: (\n    <p>\n      Congratulations our product is live in the market. People are using it and\n      they're finding bugs. We will have to do deal with those bugs this Sprint.\n    </p>\n  ),\n  effect: () => ({\n    capacity: 4,\n    title: 'Management is paying overtime',\n  }),\n  actions: {},\n};\n","import React from 'react';\nimport type { GremlinList } from '../../state';\n\nexport const gremlins: GremlinList = {\n  4: {\n    name: 'Emergency on other team',\n    description: (\n      <p>\n        TODO description: Your best tester is needed by another team for a\n        while. Cross training and protection from outside distraction will\n        reduce effects\n      </p>\n    ),\n    effect(age, finishedActionIds) {\n      if (\n        age >= 3 ||\n        (finishedActionIds.includes(\n          'GAME_ACTION_PROTECTED_FROM_OUTSIDE_DISTRACTION',\n        ) &&\n          age >= 2)\n      ) {\n        return null;\n      }\n\n      let capacity = -3;\n\n      if (finishedActionIds.includes('GAME_ACTION_INFORMAL_CROSS_TRAINING')) {\n        capacity += 1;\n      }\n      if (finishedActionIds.includes('GAME_ACTION_FORMAL_CROSS_TRAINING')) {\n        capacity += 1;\n      }\n\n      return {\n        capacity,\n        title:\n          'Weâ€™ve had an emergency on another team, we need your best tester for a while.',\n      };\n    },\n  },\n};\n","import { findGameActionById, GameEffect } from '../../state';\n\nexport const gameEffects: GameEffect[] = [\n  function technicalDebtDrag(rounds) {\n    let roundsWithoutEngAction = 0;\n\n    for (const round of rounds) {\n      const roundsGameActions = round.selectedGameActionIds.map(\n        findGameActionById,\n      );\n      const engineeringAction = roundsGameActions.find(\n        ({ type }) => type === 'ENGINEERING',\n      );\n\n      if (engineeringAction) {\n        break;\n      }\n\n      roundsWithoutEngAction += 1;\n    }\n\n    if (roundsWithoutEngAction === 0) {\n      return null;\n    }\n\n    return {\n      capacity: -roundsWithoutEngAction,\n      title: 'TODO: TechnicalDebt Drag Effect Title',\n      description: `No Engineering improvement for ${roundsWithoutEngAction} round${\n        roundsWithoutEngAction > 1 ? 's' : ''\n      }`,\n    };\n  },\n];\n","import { isCapacityEffect } from 'state/effects';\nimport { rounds } from '../../config';\nimport { RoundDescription as RoundDescriptionT } from './types';\nexport { getRoundEffects } from './getRoundEffects';\n\nexport type RoundDescription<T extends string> = RoundDescriptionT<T>;\n\nconst round1Effect = rounds['1']?.effect?.([]);\nexport const startCapacity =\n  round1Effect && isCapacityEffect(round1Effect) ? round1Effect.capacity : 0;\n","export function random() {\n  return Math.random();\n}\n","type NonUndefined<A> = A extends undefined ? never : A;\ntype NumberKeys<T extends object> = {\n  [K in keyof T]-?: NonUndefined<T[K]> extends number ? K : never;\n}[keyof T];\ntype ArrayKeys<T extends object> = {\n  [K in keyof T]-?: NonUndefined<T[K]> extends any[] ? K : never;\n}[keyof T];\n\nexport function sumByProp<T extends object>(\n  objects: T[],\n  key: NumberKeys<T>,\n): number {\n  let sum = 0;\n  objects.forEach((obj) => {\n    sum += (obj as any)[key];\n  });\n  return sum;\n}\n\nexport function concatByProp<T extends object, K extends ArrayKeys<T>>(\n  objects: T[],\n  key: K,\n): T[K] {\n  const all: any = [];\n  objects.forEach((obj) => {\n    all.push(...obj[key]);\n  });\n  return all;\n}\n","import { random } from './random';\n\nexport function rollDice() {\n  return 1 + Math.floor(random() * 6);\n}\n","import { ReactElement } from 'react';\nimport { GameActionId, gremlins } from '../config';\nimport { rollDice } from '../lib/rollDice';\nimport { Effect } from './effects';\nimport { ClosedRound } from './round';\n\nexport type GremlinDescription = {\n  name: string;\n  description?: ReactElement;\n};\nexport type GremlinId = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\ntype GremlinImplementation = GremlinDescription & {\n  effect: (age: number, finishedActionIds: GameActionId[]) => null | Effect;\n};\nexport type GremlinList = { [k in GremlinId]?: GremlinImplementation };\n\nexport function isGremlinId(thing: unknown): thing is GremlinId {\n  return typeof thing === 'number' && thing >= 1 && thing <= 12;\n}\n\nexport function getGremlinRolls(rounds: ClosedRound[]) {\n  return rounds.map((round) => round.gremlinRoll).filter(isGremlinId);\n}\n\nexport function getGremlin(\n  rounds: ClosedRound[],\n): GremlinDescription | undefined {\n  const lastRounds = [...rounds];\n  const lastRound = lastRounds.pop();\n  const pastRolls = getGremlinRolls(lastRounds);\n  if (\n    !lastRound ||\n    !lastRound.gremlinRoll ||\n    pastRolls.includes(lastRound.gremlinRoll)\n  ) {\n    return;\n  }\n\n  return gremlins[lastRound.gremlinRoll];\n}\n\nexport function getGremlinEffect(\n  gremlinId: GremlinId,\n  age: number,\n  finishedActionIds: GameActionId[],\n) {\n  return gremlins[gremlinId]?.effect(age, finishedActionIds) || null;\n}\n\nexport function rollGremlin(currentRound: number): GremlinId | undefined {\n  if (currentRound < 2) {\n    return undefined;\n  }\n  return (rollDice() + rollDice()) as GremlinId;\n}\n","import { Round, ClosedRound, createRound, getEffects } from './round';\nimport { Effect, isCapacityEffect, isEffect } from './effects';\nimport { concatByProp } from '../lib';\nimport { GameActionId, gameEffects } from '../config';\nimport { getRoundEffects } from './rounds';\nimport { getGremlinRolls } from './gremlins';\n\nexport const GAME_STATE = Symbol('GAME_STATE');\n\nexport type GameState = {\n  currentRound: Round;\n  pastRounds: ClosedRound[];\n};\nexport type SelectGameActionAction = {\n  type: 'SELECT_GAME_ACTION';\n  payload: GameActionId;\n};\nexport type UnselectGameActionAction = {\n  type: 'UNSELECT_GAME_ACTION';\n  payload: GameActionId;\n};\nexport type NextRoundAction = {\n  type: 'NEXT_ROUND';\n  payload: ClosedRound;\n};\nexport type Action =\n  | NextRoundAction\n  | SelectGameActionAction\n  | UnselectGameActionAction;\n\nexport const INITIAL_STATE: GameState = {\n  currentRound: {\n    selectedGameActionIds: [],\n  },\n  pastRounds: [],\n};\n\nexport function getAllRoundEffects(pastRounds: ClosedRound[]) {\n  const roundAmounts = pastRounds.length;\n  const roundDescriptionEffects = getRoundEffects(pastRounds);\n  if (!pastRounds.length) {\n    return roundDescriptionEffects.filter(isEffect);\n  }\n\n  const allActionIds = concatByProp(pastRounds, 'selectedGameActionIds');\n\n  const actionEffects = pastRounds.reduce((allEffects, round, i) => {\n    const age = roundAmounts - (i + 1);\n    const previousGremlinRolls = getGremlinRolls(pastRounds.slice(0, i));\n    const roundEffects = getEffects(\n      round,\n      age,\n      allActionIds,\n      previousGremlinRolls,\n    );\n\n    return allEffects.concat(roundEffects);\n  }, [] as (Effect | null)[]);\n\n  const activeGameEffects = gameEffects.map((gameEffect) => {\n    return gameEffect(pastRounds);\n  });\n\n  return roundDescriptionEffects\n    .concat(actionEffects)\n    .concat(activeGameEffects)\n    .filter(isEffect);\n}\n\nexport function getCapacity(effects: Effect[]) {\n  return effects.filter(isCapacityEffect).reduce((capacity, effect) => {\n    return capacity + effect.capacity;\n  }, 0);\n}\n\nexport function gameReducer(state: GameState, action: Action): GameState {\n  switch (action.type) {\n    case 'SELECT_GAME_ACTION': {\n      return {\n        ...state,\n        currentRound: {\n          ...state.currentRound,\n          selectedGameActionIds: [\n            ...state.currentRound.selectedGameActionIds,\n            action.payload,\n          ],\n        },\n      };\n    }\n    case 'UNSELECT_GAME_ACTION': {\n      return {\n        ...state,\n        currentRound: {\n          ...state.currentRound,\n          selectedGameActionIds: state.currentRound.selectedGameActionIds.filter(\n            (id) => id !== action.payload,\n          ),\n        },\n      };\n    }\n    case 'NEXT_ROUND': {\n      return {\n        ...state,\n        pastRounds: [...state.pastRounds, action.payload],\n        currentRound: createRound(),\n      };\n    }\n  }\n}\n","import { Effect } from '../effects';\nimport { ClosedRound } from '../round';\nimport { rounds } from '../../config';\n\nexport function getRoundEffects(pastRounds: ClosedRound[]) {\n  const currentRound = pastRounds.length;\n  const roundEffects: (null | Effect)[] = [];\n\n  for (let i = 0; i <= currentRound; i++) {\n    const desc = rounds[i + 1];\n    if (!desc) {\n      continue;\n    }\n    const previousRounds = pastRounds.slice(0, i);\n    roundEffects.push(desc.effect?.(previousRounds) || null);\n  }\n\n  return roundEffects;\n}\n","import { sumByProp, storySucceeds, concatByProp } from '../lib';\nimport { GameActionId } from '../config';\nimport { STORY_SUCCEEDS_BASE } from '../constants';\nimport { GameState, getCapacity, getAllRoundEffects } from './game';\nimport {\n  findGameActionById,\n  getCost as getActionCost,\n  getEffect as getActionEffect,\n  getEffect,\n} from './gameActions';\nimport { getGremlinEffect, GremlinId, rollGremlin } from './gremlins';\nimport { isEffect, isUserStoryChanceEffect } from './effects';\n\nexport type Round = {\n  selectedGameActionIds: GameActionId[];\n};\nexport type ClosedRound = Round & {\n  storiesCompleted: number;\n  gremlinRoll?: GremlinId;\n};\n\nexport function createRound(): Round {\n  return {\n    selectedGameActionIds: [],\n  };\n}\n\nexport function getEffects(\n  round: ClosedRound,\n  age: number,\n  finishedActionIds: GameActionId[],\n  pastGremlinRolls: GremlinId[],\n) {\n  return round.selectedGameActionIds\n    .map((id) => getActionEffect(id, age, finishedActionIds))\n    .concat(\n      round.gremlinRoll && !pastGremlinRolls.includes(round.gremlinRoll)\n        ? getGremlinEffect(round.gremlinRoll, age, finishedActionIds)\n        : [],\n    );\n}\n\nexport function getCosts(round: Round) {\n  return sumByProp(\n    round.selectedGameActionIds.map((id) => ({\n      cost: getActionCost(findGameActionById(id)),\n    })),\n    'cost',\n  );\n}\n\nexport function closeRound(state: GameState): ClosedRound {\n  const lastRoundEffects = getAllRoundEffects(state.pastRounds);\n  const storiesAttempted =\n    getCapacity(getAllRoundEffects(state.pastRounds)) -\n    getCosts(state.currentRound);\n\n  const finishedActionIds = concatByProp(\n    state.pastRounds,\n    'selectedGameActionIds',\n  );\n  const thisRoundsActionEffects = state.currentRound.selectedGameActionIds\n    .map((id) => getEffect(id, 0, finishedActionIds))\n    .filter(isEffect);\n\n  const chance =\n    STORY_SUCCEEDS_BASE +\n    sumByProp(\n      lastRoundEffects\n        .concat(thisRoundsActionEffects)\n        .filter(isUserStoryChanceEffect),\n      'userStoryChance',\n    );\n\n  return {\n    ...state.currentRound,\n    gremlinRoll: rollGremlin(state.pastRounds.length + 1),\n    storiesCompleted:\n      storiesAttempted <= 0\n        ? 0\n        : Array.from({ length: storiesAttempted }).filter(() =>\n            storySucceeds(chance),\n          ).length,\n  };\n}\n","import { rounds, GameActionId } from '../../config';\nimport { GameAction } from './types';\n\n/* create a flat list of actions from all rounds actions */\nexport const gameActions = Object.entries(rounds).reduce(\n  (memo, [roundNumber, round]) =>\n    memo.concat(\n      Object.entries(round.actions).map(([actionId, action]) => ({\n        ...action,\n        round: parseInt(roundNumber),\n        id: actionId as GameActionId,\n      })),\n    ),\n  [] as GameAction[],\n);\n","import { GameActionId } from '../../config';\nimport { GameAction } from './types';\nimport { gameActions } from './gameActions';\n\nexport function findGameActionById(gameActionId: GameActionId): GameAction {\n  return gameActions.find((gameAction) => gameActionId === gameAction.id)!;\n}\n","import { GameActionId } from '../../config';\nimport { GameAction } from './types';\nimport { gameActions } from './gameActions';\nimport { findGameActionById } from './findGameActionById';\n\nexport const UNIQUE = Symbol('UNIQUE');\n\ntype Times = typeof UNIQUE | number;\ntype GameActionStatus = {\n  dependencies: (GameAction & { missing: boolean })[];\n} & (\n  | { type: 'MISSING_DEP' }\n  | { type: 'AVAILABLE'; times: Times }\n  | { type: 'SELECTED'; times: Times }\n  | { type: 'FINISHED' }\n);\n\nfunction getDependencies(gameAction: GameAction): GameActionId[] {\n  const req = gameAction.available?.requires;\n  if (!req) {\n    return [];\n  }\n  if (!Array.isArray(req)) {\n    return [req];\n  }\n  return req;\n}\n\nexport type GameActionWithStatus = {\n  gameAction: GameAction;\n  status: GameActionStatus;\n};\n\nexport function getAvailableGameActions(\n  currentRound: number,\n  finishedActionIds: GameActionId[],\n  selectedGameActionIds: GameActionId[],\n): GameActionWithStatus[] {\n  return gameActions\n    .map((gameAction): GameActionWithStatus | null => {\n      if (currentRound < gameAction.round) {\n        return null;\n      }\n\n      const allDependencies = getDependencies(gameAction);\n      const unmetDependencies = allDependencies.filter(\n        (id) => !finishedActionIds.includes(id),\n      );\n      const dependencies = allDependencies\n        .map(findGameActionById)\n        .map((gameAction) => ({\n          ...gameAction,\n          missing: unmetDependencies.includes(gameAction.id),\n        }));\n\n      if (unmetDependencies.length) {\n        return {\n          gameAction,\n          status: {\n            type: 'MISSING_DEP',\n            dependencies,\n          },\n        };\n      }\n\n      const times =\n        gameAction.available?.unique === false\n          ? selectedGameActionIds.filter((id) => id === gameAction.id).length\n          : UNIQUE;\n\n      if (times === UNIQUE && finishedActionIds.includes(gameAction.id)) {\n        return {\n          gameAction,\n          status: { type: 'FINISHED', dependencies },\n        };\n      }\n\n      return {\n        gameAction,\n        status: selectedGameActionIds.includes(gameAction.id)\n          ? { type: 'SELECTED', times, dependencies }\n          : { type: 'AVAILABLE', times, dependencies },\n      };\n    })\n    .filter((e): e is GameActionWithStatus => e !== null);\n}\n","import { GameActionId } from '../../config';\nimport { Effect } from '../effects';\nimport { findGameActionById } from './findGameActionById';\n\nexport function getEffect(\n  gameActionId: GameActionId,\n  age: number,\n  finishedActionIds: GameActionId[],\n): Effect | null {\n  const gameAction = findGameActionById(gameActionId);\n  const effect = gameAction.effect?.(age, finishedActionIds) || null;\n  if (effect === null) {\n    return null;\n  }\n\n  const fallbackTitle: Effect['title'] = `${gameAction.name} active`;\n\n  return {\n    title: fallbackTitle,\n    ...effect,\n  } as Effect;\n}\n","import { ReactNode } from 'react';\nimport { GameActionId } from '../../config';\nimport { EffectDescription, BaseEffect } from '../effects';\n\ntype EffectWithOptionalTitle = Partial<EffectDescription> & BaseEffect;\nexport type AvailabilityCheck = (\n  currentRound: number,\n  finishedActionIds: GameActionId[],\n  selectedGameActionIds: GameActionId[],\n  id: GameActionId,\n) => boolean;\ntype Image = {\n  /**\n   * An image url\n   * can be externally hosted image\n   * `https://example.org/my.png`\n   * or relative file:\n   * `import imageUrl from './my.png';\n   */\n  image: string;\n};\nexport function isGameActionWithImage(\n  action: GameAction,\n): action is FullGameAction & Image {\n  return Object.getOwnPropertyNames(action).includes('image');\n}\ntype Icon = {\n  /**\n   * Unicode Character to be displayed instead of image\n   * can be emoji or any other char\n   */\n  icon: string;\n};\nexport function isGameActionWithIcon(\n  action: GameAction,\n): action is FullGameAction & Icon {\n  return Object.getOwnPropertyNames(action).includes('icon');\n}\ntype ImageOrIcon = Image | Icon;\n\ntype GameActionImplementation = {\n  type?: 'ENGINEERING';\n  available?: {\n    requires?: GameActionId[] | GameActionId;\n    unique?: false;\n  };\n  effect?: (\n    age: number,\n    finishedActionIds: GameActionId[],\n  ) => EffectWithOptionalTitle | null;\n  name: string;\n  description: ReactNode;\n  cost: number;\n};\ntype FullGameAction = GameActionImplementation & {\n  id: GameActionId;\n  round: number;\n};\nexport type GameActionList<T extends string> = {\n  [K in T]: ImageOrIcon & GameActionImplementation;\n};\n\nexport type GameAction = ImageOrIcon & FullGameAction;\n","import { GameAction } from './types';\n\nexport function getCost(gameAction: GameAction): number {\n  return gameAction.cost;\n}\n","import { random } from './random';\n\nexport function storySucceeds(chance: number) {\n  return random() * 100 < chance;\n}\n","import { Dispatch, ReactNode, useReducer } from 'react';\nimport { concatByProp, sumByProp } from '../lib';\nimport {\n  isVisibleEffect,\n  VisibleEffect,\n  BaseEffect,\n  isEffect,\n  isUserStoryChanceEffect,\n} from './effects';\nimport {\n  Action,\n  gameReducer,\n  getAllRoundEffects,\n  getCapacity,\n  INITIAL_STATE,\n} from './game';\nimport {\n  getAvailableGameActions,\n  GameAction,\n  findGameActionById,\n  getEffect,\n} from './gameActions';\nimport { GameActionWithStatus } from './gameActions/getAvailableGameActions';\nimport { GremlinDescription, getGremlin } from './gremlins';\nimport { ClosedRound, closeRound, getCosts } from './round';\nimport { rounds } from '../config';\n\nexport type AppState = {\n  availableGameActions: GameActionWithStatus[];\n  currentRound: {\n    number: number;\n    title?: string;\n    gremlin?: GremlinDescription;\n    description?: ReactNode;\n    selectedGameActions: GameAction[];\n    capacity: {\n      available: number;\n      total: number;\n    };\n    activeEffects: VisibleEffect<BaseEffect>[];\n  };\n  result: {\n    storiesCompleted: number;\n  };\n  pastRounds: {\n    // storiesSucceeded: number;\n    number: number;\n  }[];\n};\n\nexport default function useAppState(): [\n  AppState,\n  Dispatch<Action>,\n  () => ClosedRound,\n] {\n  const [state, dispatch] = useReducer(gameReducer, INITIAL_STATE);\n\n  const effects = getAllRoundEffects(state.pastRounds);\n  const roundCapacity = getCapacity(effects);\n  const finishedActionIds = concatByProp(\n    state.pastRounds,\n    'selectedGameActionIds',\n  );\n  const thisRoundsActionUserStoryEffects = state.currentRound.selectedGameActionIds\n    .map((id) => getEffect(id, 0, finishedActionIds))\n    .filter(isEffect)\n    .filter(isUserStoryChanceEffect);\n  const visibleEffects = effects\n    .concat(thisRoundsActionUserStoryEffects)\n    .filter(isVisibleEffect);\n  const costs = getCosts(state.currentRound);\n  const capacityAvailable = roundCapacity - costs;\n  const currentRoundNumber = state.pastRounds.length + 1;\n  const availableGameActions = getAvailableGameActions(\n    currentRoundNumber,\n    concatByProp(state.pastRounds, 'selectedGameActionIds'),\n    state.currentRound.selectedGameActionIds,\n  );\n  const selectedGameActions = state.currentRound.selectedGameActionIds.map(\n    findGameActionById,\n  );\n  const currentRoundTitle = rounds[currentRoundNumber]?.title;\n  const currentRoundDescription = rounds[currentRoundNumber]?.description;\n  const gremlin = getGremlin(state.pastRounds);\n\n  return [\n    {\n      availableGameActions,\n      currentRound: {\n        selectedGameActions,\n        title: currentRoundTitle,\n        description: currentRoundDescription,\n        gremlin,\n        number: currentRoundNumber,\n        capacity: {\n          available: capacityAvailable,\n          total: roundCapacity,\n        },\n        activeEffects: visibleEffects,\n      },\n      result: {\n        storiesCompleted: sumByProp(state.pastRounds, 'storiesCompleted'),\n      },\n      pastRounds: state.pastRounds.map((round, i) => ({\n        number: i + 1,\n      })),\n    },\n    dispatch,\n    () => closeRound(state),\n  ];\n}\n","import React from 'react';\n\ntype Props = {\n  storiesCompleted: number;\n};\n\nexport default function Results(props: Props) {\n  return (\n    <>\n      <h2>Results</h2>\n      <p>Completed {props.storiesCompleted} user stories</p>\n    </>\n  );\n}\n","import React, { ButtonHTMLAttributes } from 'react';\nimport cx from 'classnames';\nimport styles from './Button.module.css';\n\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\n  primary?: boolean;\n};\n\nexport default function Button({ primary, className, ...rest }: Props) {\n  return (\n    <button\n      className={cx(className, styles.button, primary && styles.primary)}\n      {...rest}\n    />\n  );\n}\n","import { sumByProp } from 'lib';\nimport React, {\n  MutableRefObject,\n  ReactElement,\n  ReactNode,\n  useState,\n} from 'react';\nimport { TOTAL_ROUNDS, STORY_SUCCEEDS_BASE } from '../constants';\nimport {\n  AppState,\n  GameDispatch,\n  ClosedRound,\n  isUserStoryChanceEffect,\n} from '../state';\nimport Button from './Button';\nimport styles from './Round.module.css';\n\ntype Props = {\n  currentRound: AppState['currentRound'];\n  closeRound: () => ClosedRound;\n  dispatch: GameDispatch;\n  overlayRef: MutableRefObject<HTMLDivElement | null>;\n  row1?: ReactElement;\n  row2?: ReactElement;\n};\n\nfunction Actions(props: {\n  onNext: () => void;\n  description: ReactNode;\n  children: ReactNode;\n}) {\n  const [showDescription, setShowDescription] = useState(false);\n\n  return (\n    <>\n      {props.description && showDescription && props.description}\n      {props.description && (\n        <Button onClick={() => setShowDescription(!showDescription)}>\n          {showDescription ? 'Hide' : 'Show'} Description\n        </Button>\n      )}\n      <Button primary onClick={props.onNext}>\n        Complete Round\n      </Button>\n      {props.children}\n    </>\n  );\n}\n\ntype View = 'welcome' | 'actions' | 'results';\n\nexport default function Round(props: Props) {\n  const [view, setView] = useState<View>('welcome');\n  const [closedRound, setClosedRound] = useState<ClosedRound>();\n\n  const description = props.currentRound.description ? (\n    <div className={styles.description}>{props.currentRound.description}</div>\n  ) : null;\n\n  const userStoryEffects = props.currentRound.activeEffects.filter(\n    isUserStoryChanceEffect,\n  );\n\n  return (\n    <>\n      <h4 className={styles.number}>\n        Round {props.currentRound.number} of {TOTAL_ROUNDS}\n      </h4>\n      {props.currentRound.title && (\n        <h2 className={styles.title}>{props.currentRound.title}</h2>\n      )}\n      {view === 'welcome' && (\n        <>\n          {description}\n          {props.currentRound.gremlin && (\n            <>\n              <h3>âš ï¸ {props.currentRound.gremlin.name}</h3>\n              {props.currentRound.gremlin.description}\n            </>\n          )}\n          <div className={styles.center}>\n            <Button primary onClick={() => setView('actions')}>\n              Start Round\n            </Button>\n          </div>\n        </>\n      )}\n      {view === 'actions' && (\n        <Actions onNext={() => setView('results')} description={description}>\n          <div ref={props.overlayRef} />\n          <div className={styles.rows}>\n            <div className={styles.row}>{props.row1}</div>\n            <div className={styles.row}>{props.row2}</div>\n          </div>\n        </Actions>\n      )}\n      {view === 'results' && (\n        <>\n          <ul className={styles.userStoryChanceList}>\n            <li>&nbsp;&nbsp; {STORY_SUCCEEDS_BASE}% base chance</li>\n            {userStoryEffects.map((effect) => (\n              <li key={effect.title}>\n                {effect.userStoryChance > 0 ? '+' : '-'}{' '}\n                {effect.userStoryChance.toString().replace(/^-/, '')}%{' '}\n                {effect.title}\n              </li>\n            ))}\n            <li>\n              ={' '}\n              {STORY_SUCCEEDS_BASE +\n                sumByProp(userStoryEffects, 'userStoryChance')}\n              % chance to successful finish user-story\n            </li>\n            <li>---</li>\n            {!closedRound && (\n              <>\n                <li>\n                  x &nbsp; {props.currentRound.capacity.available} capacity to\n                  spend on user stories\n                </li>\n                <li>&nbsp;</li>\n              </>\n            )}\n            {closedRound && (\n              <>\n                <li>\n                  {props.currentRound.capacity.available} user stories attempted\n                </li>\n                <li>{closedRound.storiesCompleted} user stories completed</li>\n              </>\n            )}\n          </ul>\n\n          <ul className={styles.userStoryIcons}>\n            {Array(props.currentRound.capacity.available)\n              .fill('')\n              .map((_, i) => (\n                <li key={i}>\n                  {!closedRound\n                    ? 'â“'\n                    : i < closedRound.storiesCompleted\n                    ? 'âœ…'\n                    : 'âŒ'}\n                </li>\n              ))}\n          </ul>\n          <div className={styles.center}>\n            <Button\n              disabled={!!closedRound}\n              onClick={() => {\n                setClosedRound(props.closeRound());\n              }}\n            >\n              Roll for User Stories\n            </Button>\n            <Button\n              primary\n              disabled={!closedRound}\n              onClick={() => {\n                if (!closedRound) {\n                  throw new Error(\n                    'Can not go to next round without closing this one',\n                  );\n                }\n                props.dispatch({\n                  type: 'NEXT_ROUND',\n                  payload: closedRound,\n                });\n              }}\n            >\n              Next Round\n            </Button>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","import React, { useState, useRef, useEffect, ReactNode } from 'react';\nimport { usePopper } from 'react-popper';\nimport styles from './Actions.module.css';\n\ntype Props = {\n  title: ReactNode;\n  children: ReactNode;\n  referenceElement: HTMLElement | null;\n  onClose: () => void;\n};\n\nexport default function Overlay(props: Props) {\n  const referenceElement = props.referenceElement;\n  const onClose = props.onClose;\n  const overlayRef = useRef<HTMLDivElement | null>(null);\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(\n    null,\n  );\n  useEffect(() => {\n    const handler = (ev: MouseEvent) => {\n      if (!popperElement || !ev.target) {\n        return;\n      }\n      if (!popperElement.contains(ev.target as any)) {\n        onClose();\n      }\n    };\n    window.addEventListener('click', handler);\n\n    return () => window.removeEventListener('click', handler);\n  }, [popperElement, onClose]);\n\n  overlayRef.current = popperElement;\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null);\n  const popper = usePopper(referenceElement, popperElement, {\n    placement: 'bottom-end',\n    modifiers: [\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 8],\n        },\n      },\n      {\n        name: 'flip',\n        options: {\n          fallbackPlacements: [\n            'bottom',\n            'bottom-start',\n            'top-end',\n            'top',\n            'top-start',\n            'right',\n          ],\n        },\n      },\n      { name: 'preventOverflow' },\n      { name: 'arrow', options: { element: arrowElement } },\n    ],\n  });\n\n  return (\n    <div\n      data-popper-placement={popper.state?.placement}\n      ref={setPopperElement}\n      className={styles.overlay}\n      style={popper.styles.popper}\n      {...popper.attributes}\n    >\n      <div\n        ref={setArrowElement}\n        style={popper.styles.arrow}\n        className={styles.arrow}\n      />\n      <div className={styles.overlayInner}>\n        <button className={styles.closeOverlay} onClick={() => props.onClose()}>\n          â•³\n        </button>\n        <h3 className={styles.overlayTitle}>{props.title}</h3>\n        {props.children}\n      </div>\n    </div>\n  );\n}\n","import React, { useRef, useState } from 'react';\nimport cx from 'classnames';\nimport {\n  GameActionWithStatus,\n  isGameActionWithIcon,\n  isGameActionWithImage,\n} from '../../state';\nimport styles from './Actions.module.css';\nimport Overlay from './Overlay';\nimport { Button } from 'components';\n\ntype ActionProps = GameActionWithStatus & {\n  isOpen: boolean;\n  onOpen: (open: boolean) => void;\n  onSelect: (selected: boolean) => void;\n};\n\nexport default function Action(props: ActionProps) {\n  const [buttonElement, setButtonElement] = useState<HTMLButtonElement | null>(\n    null,\n  );\n  const clickTimer = useRef<NodeJS.Timeout>();\n  const gameAction = props.gameAction;\n\n  const disabled = ['MISSING_DEP', 'FINISHED'].includes(props.status.type);\n\n  return (\n    <>\n      <button\n        ref={setButtonElement}\n        onClick={() => {\n          if (clickTimer.current) {\n            clearTimeout(clickTimer.current);\n          }\n          clickTimer.current = setTimeout(() => props.onOpen(true), 300);\n        }}\n        onDoubleClick={() => {\n          if (disabled) {\n            return;\n          }\n          if (clickTimer.current) {\n            clearTimeout(clickTimer.current);\n          }\n          props.onSelect(props.status.type === 'AVAILABLE');\n        }}\n        className={cx(\n          styles.action,\n          disabled && styles.disabled,\n          props.status.type === 'MISSING_DEP' && styles.missingDep,\n          ['SELECTED', 'FINISHED'].includes(props.status.type) &&\n            styles.actionSelected,\n        )}\n      >\n        {isGameActionWithImage(gameAction) && (\n          <span\n            className={styles.actionImage}\n            style={{ backgroundImage: `url(${gameAction.image})` }}\n          ></span>\n        )}\n        {isGameActionWithIcon(gameAction) && (\n          <span className={styles.actionIcon}>{gameAction.icon}</span>\n        )}\n\n        <span>{props.gameAction.name}</span>\n      </button>\n      {props.isOpen && (\n        <Overlay\n          referenceElement={buttonElement}\n          title={props.gameAction.name}\n          onClose={() => props.onOpen(false)}\n        >\n          {props.status.dependencies.length ? (\n            <>\n              <h4 className={styles.requiresTitle}>Requires</h4>\n              <ul className={styles.requiresList}>\n                {props.status.dependencies.map((dep) => (\n                  <li key={dep.id}>\n                    {dep.missing ? 'âŒ' : 'âœ…'} {dep.name}\n                  </li>\n                ))}\n              </ul>\n            </>\n          ) : null}\n          {props.gameAction.description}\n          <p>\n            <b>Cost</b>: {props.gameAction.cost}\n          </p>\n          {!disabled && (\n            <Button\n              primary={props.status.type === 'AVAILABLE'}\n              onClick={() => props.onSelect(props.status.type === 'AVAILABLE')}\n            >\n              {props.status.type === 'SELECTED' ? 'Remove' : 'Select'}\n            </Button>\n          )}\n          {disabled && props.status.type === 'FINISHED' && (\n            <Button primary disabled>\n              Finished\n            </Button>\n          )}\n        </Overlay>\n      )}\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { GameActionId } from '../../config';\nimport { GameActionWithStatus } from '../../state';\nimport styles from './Actions.module.css';\nimport Action from './Action';\n\ntype Props = {\n  round: number;\n  initialVisible: boolean;\n  openGameActionId?: GameActionId;\n  onOpen: (open: boolean, id: GameActionId) => void;\n  onSelect: (selected: boolean, actionWithStatus: GameActionId) => void;\n  actionsWithStatus: GameActionWithStatus[];\n};\n\nexport default function RoundActions(props: Props) {\n  const [visible, setVisible] = useState(props.initialVisible);\n  return (\n    <>\n      <li>\n        <button\n          className={styles.roundVisibleToggle}\n          onClick={() => setVisible(!visible)}\n        >\n          Round {props.round} {visible ? 'â–²' : 'â–¼'}\n        </button>\n        {visible && (\n          <ul className={styles.roundActionList}>\n            {props.actionsWithStatus.map(\n              /* eslint-disable-next-line array-callback-return */\n              (actionWithStatus): JSX.Element => {\n                return (\n                  <li key={actionWithStatus.gameAction.id}>\n                    <Action\n                      {...actionWithStatus}\n                      isOpen={\n                        props.openGameActionId ===\n                        actionWithStatus.gameAction.id\n                      }\n                      onOpen={(open) =>\n                        props.onOpen(open, actionWithStatus.gameAction.id)\n                      }\n                      onSelect={(selected) =>\n                        props.onSelect(selected, actionWithStatus.gameAction.id)\n                      }\n                    />\n                  </li>\n                );\n              },\n            )}\n          </ul>\n        )}\n      </li>\n    </>\n  );\n}\n","import React, { useState, MutableRefObject } from 'react';\nimport { GameActionId } from '../../config';\nimport { GameDispatch, AppState, GameActionWithStatus } from '../../state';\nimport styles from './Actions.module.css';\nimport RoundActions from './RoundActions';\n\nfunction onlyRound(number: number) {\n  return (actionWithStatus: GameActionWithStatus): boolean =>\n    actionWithStatus.gameAction.round === number;\n}\n\ntype Props = {\n  currentRound: number;\n  availableGameActions: AppState['availableGameActions'];\n  dispatch: GameDispatch;\n  overlay: MutableRefObject<HTMLElement | null>;\n};\n\nexport default function Actions(props: Props) {\n  const [openActionId, setOpenActionId] = useState<GameActionId>();\n\n  return (\n    <>\n      <h2>Available Actions</h2>\n      <ul className={styles.roundList}>\n        {Array(props.currentRound)\n          .fill('')\n          .map((_, i) => {\n            const round = props.currentRound - i;\n            return (\n              <RoundActions\n                onOpen={(open, actionId) => {\n                  setOpenActionId(open ? actionId : undefined);\n                }}\n                openGameActionId={openActionId}\n                onSelect={(selected, actionId) =>\n                  props.dispatch(\n                    selected\n                      ? {\n                          type: 'SELECT_GAME_ACTION',\n                          payload: actionId,\n                        }\n                      : {\n                          type: 'UNSELECT_GAME_ACTION',\n                          payload: actionId,\n                        },\n                  )\n                }\n                key={round}\n                initialVisible={round === props.currentRound}\n                round={round}\n                actionsWithStatus={props.availableGameActions.filter(\n                  onlyRound(round),\n                )}\n              />\n            );\n          })}\n      </ul>\n    </>\n  );\n}\n","import React from 'react';\nimport cx from 'classnames';\nimport { AppState, startCapacity, isCapacityEffect } from '../state';\nimport styles from './Status.module.css';\n\ntype Props = AppState['currentRound'];\n\nexport default function Status(props: Props) {\n  const percentOnUserStories = props.capacity.available / props.capacity.total;\n  const userStoryStatus =\n    percentOnUserStories < 0.5\n      ? 'CRITICAL'\n      : percentOnUserStories < 0.7\n      ? 'WARNING'\n      : 'OK';\n  return (\n    <>\n      <h2>Capacity Breakdown</h2>\n      <ul className={styles.status}>\n        <li>\n          <span className={styles.cap}>{startCapacity}</span> Start Capacity\n        </li>\n        {props.activeEffects.length !== 0 && (\n          <>\n            <li className={styles.title}>Active Effects</li>\n            {props.activeEffects.filter(isCapacityEffect).map((effect) => (\n              <li key={effect.title}>\n                <span className={styles.cap}>\n                  <span className={styles.sign}>\n                    {effect.capacity > 0 ? '+' : '-'}\n                  </span>\n                  {String(effect.capacity).replace(/^-/, '')}\n                </span>\n                {effect.title}\n              </li>\n            ))}\n          </>\n        )}\n        <li className={styles.capThisRound}>\n          <span className={styles.cap}>\n            <span className={styles.sign}>=</span> {props.capacity.total}\n          </span>{' '}\n          Capacity available this round\n        </li>\n        {props.selectedGameActions.length !== 0 && (\n          <>\n            <li className={styles.title}>Selected Actions</li>\n            {props.selectedGameActions.map((gameAction) => (\n              <li key={gameAction.id}>\n                <span className={styles.cap}>\n                  <span className={styles.sign}>-</span> {gameAction.cost}\n                </span>\n                {gameAction.name}\n              </li>\n            ))}\n          </>\n        )}\n\n        <li className={styles.title}>User Stories</li>\n        <li\n          className={cx(\n            userStoryStatus === 'WARNING' && styles.userStoryWarning,\n            userStoryStatus === 'CRITICAL' && styles.userStoryCritical,\n          )}\n        >\n          <span className={styles.cap}>\n            <span className={styles.sign}>-</span> {props.capacity.available}\n          </span>{' '}\n          spent on User Stories\n        </li>\n        <li className={styles.title}>\n          {userStoryStatus === 'WARNING' && (\n            <>ðŸ§‘â€ðŸ’¼: \"feature work needs more priority\"</>\n          )}\n          {userStoryStatus === 'CRITICAL' && (\n            <>ðŸ§‘â€ðŸ’¼: \"not enough time spent on feature work\"</>\n          )}\n        </li>\n      </ul>\n    </>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport styles from './Header.module.css';\n\ntype Props = {\n  children?: ReactNode;\n};\nexport default function Header(props: Props) {\n  return (\n    <div className={styles.header}>\n      <h1>High-Performance Team Game </h1>\n      {props.children}\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Rules() {\n  return (\n    <>\n      <h2>Welcome</h2>\n      <p>Your team is working on the Worldâ€™s Smallest Online Bookstore, a site that provides the best results (just a few) for every search, not every result on earth. Weâ€™re a vulture capital funded company, so if we donâ€™t deliver, our funding will be cut.\n\n      My goal is to help you see the effects of choices/tradeoffs on productivity and team cohesion. While some of the benefits of Agile happen at the individual level, there are many things that affect the relationships between team members, and therefore the overall cohesion and productivity of the team.\n      </p>\n      <h2>Rules</h2>\n      <p>\n        <ul>\n          <li>Rounds represent 6 weeks or 3 Sprints in the life of your team</li>\n          <li>The game lasts 10 rounds or 30 weeks</li>\n          <li>Your team starts with a Capacity of 10 pontsi</li>\n          <ul>\n            <li>This Capacity can be spent on User Stories</li>\n            <li>This Capacity can also be spent on Improvements (aka Actions). These improvements cost the team Capacity this round and may provide benefit in future rounds.</li>\n          </ul>\n          <li>Teams that fail to improve both Communications and Engineering Practice will eventually be penalized.</li>\n          <li>If you play well your team's capacity will increase round by round</li>\n        </ul>\n        <h2>Rounds</h2>\n        Each round consists of a series of steps:\n        <ol>\n          <li>You get a round description. Click <b>Start Round</b></li>\n          <li>Select Improvements or Actions that will affect the team. Once selected the actions cost will be taken away from the teams Capacity Click. <b>Complete Round</b></li>\n          <li>The Game tells you how much capacity there is to spend on User Stories. Click <b>Roll for User Stories</b> </li>\n          <li>The rolls a die for each User Story to determine how many are actually completed. Click <b>Next Round</b></li>\n          <li>At the end of each round the game also checks to see if your team was affected by a Gremlin - example - \"Manager yells at a team member\"</li>\n        </ol>\n        Notice each round your Capacity increases or decreases depending on the improvements you have made and the gremlins that affect you.\n\n        After round 1 the game displays the active effects of Improvements that were previously made.\n\n        Hint - play the game as often as you want. So if you want to run experiments to see what works - go for it.\n      </p>\n    </>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport styles from './Content.module.css';\n\nexport default function Content(props: { children?: ReactNode }) {\n  return <div className={styles.content}>{props.children}</div>;\n}\n","import React, { ButtonHTMLAttributes, ReactNode } from 'react';\nimport cx from 'classnames';\nimport styles from './Tabs.module.css';\n\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\n  active?: boolean;\n};\n\nexport function Tabs(props: { children?: ReactNode }) {\n  return <div className={styles.tabs}>{props.children}</div>;\n}\n\nexport function Tab({ active, className, ...rest }: Props) {\n  return (\n    <button\n      className={cx(styles.tab, className, active && styles.tabActive)}\n      {...rest}\n    />\n  );\n}\n","import React, { useState, useRef } from 'react';\nimport { useAppState } from './state';\nimport { TOTAL_ROUNDS } from './constants';\nimport {\n  Results,\n  Actions,\n  Round,\n  Status,\n  Header,\n  Rules,\n  Tabs,\n  Tab,\n  Content,\n} from './components';\n\nexport default function App() {\n  const [state, dispatch, closeRound] = useAppState();\n  const [tab, setTab] = useState<'play' | 'rules'>('play');\n  const overlayRef = useRef<HTMLDivElement | null>(null);\n\n  return (\n    <>\n      <Header>\n        <Tabs>\n          <Tab active={tab === 'play'} onClick={() => setTab('play')}>\n            Play\n          </Tab>\n          <Tab active={tab === 'rules'} onClick={() => setTab('rules')}>\n            Rules\n          </Tab>\n        </Tabs>\n      </Header>\n      <Content>\n        {tab === 'play' && (\n          <>\n            {state.currentRound.number > TOTAL_ROUNDS ? (\n              <Results storiesCompleted={state.result.storiesCompleted} />\n            ) : (\n              <Round\n                key={state.currentRound.number}\n                dispatch={dispatch}\n                currentRound={state.currentRound}\n                closeRound={closeRound}\n                overlayRef={overlayRef}\n                row1={\n                  <Actions\n                    overlay={overlayRef}\n                    currentRound={state.currentRound.number}\n                    availableGameActions={state.availableGameActions}\n                    dispatch={dispatch}\n                  />\n                }\n                row2={<Status {...state.currentRound} />}\n              />\n            )}\n          </>\n        )}\n        {tab === 'rules' && <Rules />}\n      </Content>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}